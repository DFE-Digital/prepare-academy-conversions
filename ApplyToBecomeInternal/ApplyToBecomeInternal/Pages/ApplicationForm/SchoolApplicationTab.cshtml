@page "/school-application-form/school-application-tab/{id:int}"
@model ApplyToBecomeInternal.Pages.ApplicationForm.IndexModel
@{
    ViewData["Title"] = "School application form";
}
@{     
    Layout = "~/Pages/Shared/_LayoutNoHeaderAndFooter.cshtml";   
}

@section BeforeMain
{
	<a asp-page="@Links.TaskList.Index.Page" asp-route-id="@Model.Project.Id" class="govuk-back-link">@Links.TaskList.Index.BackText</a>
}

<partial name="_SchoolApplicationHeader" model="Model.Project"/>   
<div class="govuk-grid-row">
	<div class="govuk-grid-column-full">
		@foreach (var formSection in Model.Sections)
		{            
            <h2 class="govuk-heading-l govuk-!-margin-bottom govuk-!-font-size-36">@formSection.Heading</h2>
			@if (formSection.Fields.Any())
			{
				<dl class="govuk-summary-list">
					@foreach (var sectionField in formSection.Fields)
					{
						<partial name="_ApplicationFormField" model="sectionField" />
					}
				</dl>
			}

			@foreach (var subSection in formSection.SubSections)
			{
				<h3 class="govuk-heading-m govuk-!-margin-bottom govuk-!-font-size-24">@subSection.Heading</h3>
				<dl class="govuk-summary-list">
					@foreach (var sectionField in subSection.Fields)
					{
						<partial name="_ApplicationFormField" model="sectionField" />
					}
				</dl>
			}
		}
	</div>
</div>