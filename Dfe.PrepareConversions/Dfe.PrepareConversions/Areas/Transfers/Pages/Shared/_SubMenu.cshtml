@using Dfe.PrepareTransfers.Web.Helpers.TagHelpers;
@using Dfe.PrepareTransfers.Web.Models;
@using Links = Dfe.PrepareTransfers.Web.Models.Links
@model string

@{
    var urn = ViewContext.RouteData.Values["urn"];
    var projectReference = Model;
    var showEatApplication = !string.IsNullOrEmpty(projectReference) && projectReference.StartsWith("TRF-");
}

<nav class="moj-sub-navigation" aria-label="Sub navigation">
   <ul class="moj-sub-navigation__list govuk-!-margin-top-6">
        <li class="moj-sub-navigation__item">
           <sub-menu-link class="moj-sub-navigation__link"
                            asp-page="@Links.Project.Index.PageName"
                            asp-route-urn="@urn"
           >
              Project details
           </sub-menu-link>
        </li>

        <li class="moj-sub-navigation__item" data-cy="recordADecisionID">
            <sub-menu-link class="moj-sub-navigation__link"
                           asp-page="@Links.Decision.SubMenuRecordADecision.PageName"
                           asp-route-urn="@urn">
                Record a decision
            </sub-menu-link>
        </li>

        <li class="moj-sub-navigation__item" data-cy="TransferDateHistoryID">
            <sub-menu-link class="moj-sub-navigation__link"
                           asp-page="@Links.TransferDateHistory.Index.PageName"
                           asp-route-urn="@urn">
                Transfer date history
            </sub-menu-link>
        </li>

        @if (showEatApplication)
        {
            <li class="moj-sub-navigation__item" data-cy="EATApplicationID">
                <sub-menu-link class="moj-sub-navigation__link"
                               asp-page="@Links.EatApplication.Index.PageName"
                               asp-route-urn="@urn">
                   Application details
                </sub-menu-link>
            </li>
        }
   </ul>
</nav>