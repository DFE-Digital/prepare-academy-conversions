/*! For license information please see site.js.LICENSE.txt */
(()=>{"use strict";var t={d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Accordion:()=>x,Button:()=>C,CharacterCount:()=>E,Checkboxes:()=>A,Component:()=>g,ConfigurableComponent:()=>f,ErrorSummary:()=>T,ExitThisPage:()=>S,FileUpload:()=>D,Header:()=>M,NotificationBanner:()=>B,PasswordInput:()=>j,Radios:()=>H,ServiceNavigation:()=>I,SkipLink:()=>q,Tabs:()=>O,createAll:()=>N,initAll:()=>F,isSupported:()=>r,version:()=>i});var s={};t.r(s),t.d(s,{AddAnother:()=>R,Alert:()=>Y,ButtonMenu:()=>U,DatePicker:()=>W,FilterToggleButton:()=>J,FormValidator:()=>Q,MultiFileUpload:()=>X,MultiSelect:()=>tt,PasswordReveal:()=>et,PdsHeader:()=>G,RichTextEditor:()=>st,SearchToggle:()=>it,SortableTable:()=>nt,initAll:()=>ot,version:()=>P});const i="5.12.0";function n(t){const e=`--govuk-breakpoint-${t}`;return{property:e,value:window.getComputedStyle(document.documentElement).getPropertyValue(e)||void 0}}function o(t,e={}){var s;const i=t.getAttribute("tabindex");function n(){var s;null==(s=e.onBlur)||s.call(t),i||t.removeAttribute("tabindex")}i||t.setAttribute("tabindex","-1"),t.addEventListener("focus",(function(){t.addEventListener("blur",n,{once:!0})}),{once:!0}),null==(s=e.onBeforeFocus)||s.call(t),t.focus()}function r(t=document.body){return!!t&&t.classList.contains("govuk-frontend-supported")}function a(t){return!!t&&"object"==typeof t&&!function(t){return Array.isArray(t)}(t)}function l(t){return!!t&&(t instanceof Element||t instanceof Document)}function u(t,e){return`${t.moduleName}: ${e}`}class c extends Error{constructor(...t){super(...t),this.name="GOVUKFrontendError"}}class d extends c{constructor(t=document.body){const e="noModule"in HTMLScriptElement.prototype?'GOV.UK Frontend initialised without `<body class="govuk-frontend-supported">` from template `<script>` snippet':"GOV.UK Frontend is not supported in this browser";super(t?e:'GOV.UK Frontend initialised without `<script type="module">`'),this.name="SupportError"}}class h extends c{constructor(...t){super(...t),this.name="ConfigError"}}class p extends c{constructor(t){let e="string"==typeof t?t:"";if(a(t)){const{component:s,identifier:i,element:n,expectedType:o}=t;e=i,e+=n?` is not of type ${null!=o?o:"HTMLElement"}`:" not found",s&&(e=u(s,e))}super(e),this.name="ElementError"}}class m extends c{constructor(t){super("string"==typeof t?t:u(t,"Root element (`$root`) already initialised")),this.name="InitError"}}class g{get $root(){return this._$root}constructor(t){this._$root=void 0;const e=this.constructor;if("string"!=typeof e.moduleName)throw new m("`moduleName` not defined in component");if(!(t instanceof e.elementType))throw new p({element:t,component:e,identifier:"Root element (`$root`)",expectedType:e.elementType.name});this._$root=t,e.checkSupport(),this.checkInitialised();const s=e.moduleName;this.$root.setAttribute(`data-${s}-init`,"")}checkInitialised(){const t=this.constructor,e=t.moduleName;if(e&&function(t,e){return t instanceof HTMLElement&&t.hasAttribute(`data-${e}-init`)}(this.$root,e))throw new m(t)}static checkSupport(){if(!r())throw new d}}g.elementType=HTMLElement;const b=Symbol.for("configOverride");class f extends g{[b](t){return{}}get config(){return this._config}constructor(t,e){super(t),this._config=void 0;const s=this.constructor;if(!a(s.defaults))throw new h(u(s,"Config passed as parameter into constructor but no defaults defined"));const i=function(t,e){if(!a(t.schema))throw new h(u(t,"Config passed as parameter into constructor but no schema defined"));const s={},i=Object.entries(t.schema.properties);for(const n of i){const[i,o]=n,r=i.toString();r in e&&(s[r]=v(e[r],o)),"object"===(null==o?void 0:o.type)&&(s[r]=k(t.schema,e,i))}return s}(s,this._$root.dataset);this._config=y(s.defaults,null!=e?e:{},this[b](i),i)}}function v(t,e){const s=t?t.trim():"";let i,n=null==e?void 0:e.type;switch(n||(["true","false"].includes(s)&&(n="boolean"),s.length>0&&isFinite(Number(s))&&(n="number")),n){case"boolean":i="true"===s;break;case"number":i=Number(s);break;default:i=t}return i}function $(t){let e,s=document;if(a(t)){const i=t;(l(i.scope)||null===i.scope)&&(s=i.scope),"function"==typeof i.onError&&(e=i.onError)}return l(t)?s=t:null===t?s=null:"function"==typeof t&&(e=t),{scope:s,onError:e}}function y(...t){const e={};for(const s of t)for(const t of Object.keys(s)){const i=e[t],n=s[t];a(i)&&a(n)?e[t]=y(i,n):e[t]=n}return e}function k(t,e,s){const i=t.properties[s];if("object"!==(null==i?void 0:i.type))return;const n={[s]:{}};for(const[t,i]of Object.entries(e)){let e=n;const o=t.split(".");for(const[n,r]of o.entries())a(e)&&(n<o.length-1?(a(e[r])||(e[r]={}),e=e[r]):t!==s&&(e[r]=v(i)))}return n[s]}class w{constructor(t={},e={}){var s;this.translations=void 0,this.locale=void 0,this.translations=t,this.locale=null!=(s=e.locale)?s:document.documentElement.lang||"en"}t(t,e){if(!t)throw new Error("i18n: lookup key missing");let s=this.translations[t];if("number"==typeof(null==e?void 0:e.count)&&a(s)){const i=s[this.getPluralSuffix(t,e.count)];i&&(s=i)}if("string"==typeof s){if(s.match(/%{(.\S+)}/)){if(!e)throw new Error("i18n: cannot replace placeholders in string if no option data provided");return this.replacePlaceholders(s,e)}return s}return t}replacePlaceholders(t,e){const s=Intl.NumberFormat.supportedLocalesOf(this.locale).length?new Intl.NumberFormat(this.locale):void 0;return t.replace(/%{(.\S+)}/g,(function(t,i){if(Object.prototype.hasOwnProperty.call(e,i)){const t=e[i];return!1===t||"number"!=typeof t&&"string"!=typeof t?"":"number"==typeof t?s?s.format(t):`${t}`:t}throw new Error(`i18n: no data found to replace ${t} placeholder in string`)}))}hasIntlPluralRulesSupport(){return Boolean("PluralRules"in window.Intl&&Intl.PluralRules.supportedLocalesOf(this.locale).length)}getPluralSuffix(t,e){if(e=Number(e),!isFinite(e))return"other";const s=this.translations[t],i=this.hasIntlPluralRulesSupport()?new Intl.PluralRules(this.locale).select(e):"other";if(a(s)){if(i in s)return i;if("other"in s)return console.warn(`i18n: Missing plural form ".${i}" for "${this.locale}" locale. Falling back to ".other".`),"other"}throw new Error(`i18n: Plural form ".other" is required for "${this.locale}" locale`)}}class x extends f{constructor(t,e={}){super(t,e),this.i18n=void 0,this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionClass="govuk-accordion__section",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingDividerClass="govuk-accordion__section-heading-divider",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus",this.sectionContentClass="govuk-accordion__section-content",this.$sections=void 0,this.$showAllButton=null,this.$showAllIcon=null,this.$showAllText=null,this.i18n=new w(this.config.i18n);const s=this.$root.querySelectorAll(`.${this.sectionClass}`);if(!s.length)throw new p({component:x,identifier:`Sections (\`<div class="${this.sectionClass}">\`)`});this.$sections=s,this.initControls(),this.initSectionHeaders(),this.updateShowAllButton(this.areAllSectionsOpen())}initControls(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false"),this.$showAllIcon=document.createElement("span"),this.$showAllIcon.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(this.$showAllIcon);const t=document.createElement("div");t.setAttribute("class",this.controlsClass),t.appendChild(this.$showAllButton),this.$root.insertBefore(t,this.$root.firstChild),this.$showAllText=document.createElement("span"),this.$showAllText.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(this.$showAllText),this.$showAllButton.addEventListener("click",(()=>this.onShowOrHideAllToggle())),"onbeforematch"in document&&document.addEventListener("beforematch",(t=>this.onBeforeMatch(t)))}initSectionHeaders(){this.$sections.forEach(((t,e)=>{const s=t.querySelector(`.${this.sectionHeaderClass}`);if(!s)throw new p({component:x,identifier:`Section headers (\`<div class="${this.sectionHeaderClass}">\`)`});this.constructHeaderMarkup(s,e),this.setExpanded(this.isExpanded(t),t),s.addEventListener("click",(()=>this.onSectionToggle(t))),this.setInitialState(t)}))}constructHeaderMarkup(t,e){const s=t.querySelector(`.${this.sectionButtonClass}`),i=t.querySelector(`.${this.sectionHeadingClass}`),n=t.querySelector(`.${this.sectionSummaryClass}`);if(!i)throw new p({component:x,identifier:`Section heading (\`.${this.sectionHeadingClass}\`)`});if(!s)throw new p({component:x,identifier:`Section button placeholder (\`<span class="${this.sectionButtonClass}">\`)`});const o=document.createElement("button");o.setAttribute("type","button"),o.setAttribute("aria-controls",`${this.$root.id}-content-${e+1}`);for(const t of Array.from(s.attributes))"id"!==t.name&&o.setAttribute(t.name,t.value);const r=document.createElement("span");r.classList.add(this.sectionHeadingTextClass),r.id=s.id;const a=document.createElement("span");a.classList.add(this.sectionHeadingTextFocusClass),r.appendChild(a),Array.from(s.childNodes).forEach((t=>a.appendChild(t)));const l=document.createElement("span");l.classList.add(this.sectionShowHideToggleClass),l.setAttribute("data-nosnippet","");const u=document.createElement("span");u.classList.add(this.sectionShowHideToggleFocusClass),l.appendChild(u);const c=document.createElement("span"),d=document.createElement("span");if(d.classList.add(this.upChevronIconClass),u.appendChild(d),c.classList.add(this.sectionShowHideTextClass),u.appendChild(c),o.appendChild(r),o.appendChild(this.getButtonPunctuationEl()),n){const t=document.createElement("span"),e=document.createElement("span");e.classList.add(this.sectionSummaryFocusClass),t.appendChild(e);for(const e of Array.from(n.attributes))t.setAttribute(e.name,e.value);Array.from(n.childNodes).forEach((t=>e.appendChild(t))),n.remove(),o.appendChild(t),o.appendChild(this.getButtonPunctuationEl())}o.appendChild(l),i.removeChild(s),i.appendChild(o)}onBeforeMatch(t){const e=t.target;if(!(e instanceof Element))return;const s=e.closest(`.${this.sectionClass}`);s&&this.setExpanded(!0,s)}onSectionToggle(t){const e=!this.isExpanded(t);this.setExpanded(e,t),this.storeState(t,e)}onShowOrHideAllToggle(){const t=!this.areAllSectionsOpen();this.$sections.forEach((e=>{this.setExpanded(t,e),this.storeState(e,t)})),this.updateShowAllButton(t)}setExpanded(t,e){const s=e.querySelector(`.${this.upChevronIconClass}`),i=e.querySelector(`.${this.sectionShowHideTextClass}`),n=e.querySelector(`.${this.sectionButtonClass}`),o=e.querySelector(`.${this.sectionContentClass}`);if(!o)throw new p({component:x,identifier:`Section content (\`<div class="${this.sectionContentClass}">\`)`});if(!s||!i||!n)return;const r=t?this.i18n.t("hideSection"):this.i18n.t("showSection");i.textContent=r,n.setAttribute("aria-expanded",`${t}`);const a=[],l=e.querySelector(`.${this.sectionHeadingTextClass}`);l&&a.push(l.textContent.trim());const u=e.querySelector(`.${this.sectionSummaryClass}`);u&&a.push(u.textContent.trim());const c=t?this.i18n.t("hideSectionAriaLabel"):this.i18n.t("showSectionAriaLabel");a.push(c),n.setAttribute("aria-label",a.join(" , ")),t?(o.removeAttribute("hidden"),e.classList.add(this.sectionExpandedClass),s.classList.remove(this.downChevronIconClass)):(o.setAttribute("hidden","until-found"),e.classList.remove(this.sectionExpandedClass),s.classList.add(this.downChevronIconClass)),this.updateShowAllButton(this.areAllSectionsOpen())}isExpanded(t){return t.classList.contains(this.sectionExpandedClass)}areAllSectionsOpen(){return Array.from(this.$sections).every((t=>this.isExpanded(t)))}updateShowAllButton(t){this.$showAllButton&&this.$showAllText&&this.$showAllIcon&&(this.$showAllButton.setAttribute("aria-expanded",t.toString()),this.$showAllText.textContent=t?this.i18n.t("hideAllSections"):this.i18n.t("showAllSections"),this.$showAllIcon.classList.toggle(this.downChevronIconClass,!t))}getIdentifier(t){const e=t.querySelector(`.${this.sectionButtonClass}`);return null==e?void 0:e.getAttribute("aria-controls")}storeState(t,e){if(!this.config.rememberExpanded)return;const s=this.getIdentifier(t);if(s)try{window.sessionStorage.setItem(s,e.toString())}catch(t){}}setInitialState(t){if(!this.config.rememberExpanded)return;const e=this.getIdentifier(t);if(e)try{const s=window.sessionStorage.getItem(e);null!==s&&this.setExpanded("true"===s,t)}catch(t){}}getButtonPunctuationEl(){const t=document.createElement("span");return t.classList.add("govuk-visually-hidden",this.sectionHeadingDividerClass),t.textContent=", ",t}}x.moduleName="govuk-accordion",x.defaults=Object.freeze({i18n:{hideAllSections:"Hide all sections",hideSection:"Hide",hideSectionAriaLabel:"Hide this section",showAllSections:"Show all sections",showSection:"Show",showSectionAriaLabel:"Show this section"},rememberExpanded:!0}),x.schema=Object.freeze({properties:{i18n:{type:"object"},rememberExpanded:{type:"boolean"}}});class C extends f{constructor(t,e={}){super(t,e),this.debounceFormSubmitTimer=null,this.$root.addEventListener("keydown",(t=>this.handleKeyDown(t))),this.$root.addEventListener("click",(t=>this.debounce(t)))}handleKeyDown(t){const e=t.target;" "===t.key&&e instanceof HTMLElement&&"button"===e.getAttribute("role")&&(t.preventDefault(),e.click())}debounce(t){if(this.config.preventDoubleClick)return this.debounceFormSubmitTimer?(t.preventDefault(),!1):void(this.debounceFormSubmitTimer=window.setTimeout((()=>{this.debounceFormSubmitTimer=null}),1e3))}}function L(t,e){const s=t.closest(`[${e}]`);return s?s.getAttribute(e):null}C.moduleName="govuk-button",C.defaults=Object.freeze({preventDoubleClick:!1}),C.schema=Object.freeze({properties:{preventDoubleClick:{type:"boolean"}}});class E extends f{[b](t){let e={};return("maxwords"in t||"maxlength"in t)&&(e={maxlength:void 0,maxwords:void 0}),e}constructor(t,e={}){var s,i;super(t,e),this.$textarea=void 0,this.$visibleCountMessage=void 0,this.$screenReaderCountMessage=void 0,this.lastInputTimestamp=null,this.lastInputValue="",this.valueChecker=null,this.i18n=void 0,this.maxLength=void 0;const n=this.$root.querySelector(".govuk-js-character-count");if(!(n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement))throw new p({component:E,element:n,expectedType:"HTMLTextareaElement or HTMLInputElement",identifier:"Form field (`.govuk-js-character-count`)"});const o=function(t,e){const s=[];for(const[i,n]of Object.entries(t)){const t=[];if(Array.isArray(n)){for(const{required:s,errorMessage:i}of n)s.every((t=>!!e[t]))||t.push(i);"anyOf"!==i||n.length-t.length>=1||s.push(...t)}}return s}(E.schema,this.config);if(o[0])throw new h(u(E,o[0]));this.i18n=new w(this.config.i18n,{locale:L(this.$root,"lang")}),this.maxLength=null!=(s=null!=(i=this.config.maxwords)?i:this.config.maxlength)?s:1/0,this.$textarea=n;const r=`${this.$textarea.id}-info`,a=document.getElementById(r);if(!a)throw new p({component:E,element:a,identifier:`Count message (\`id="${r}"\`)`});this.$errorMessage=this.$root.querySelector(".govuk-error-message"),a.textContent.match(/^\s*$/)&&(a.textContent=this.i18n.t("textareaDescription",{count:this.maxLength})),this.$textarea.insertAdjacentElement("afterend",a);const l=document.createElement("div");l.className="govuk-character-count__sr-status govuk-visually-hidden",l.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=l,a.insertAdjacentElement("afterend",l);const c=document.createElement("div");c.className=a.className,c.classList.add("govuk-character-count__status"),c.setAttribute("aria-hidden","true"),this.$visibleCountMessage=c,a.insertAdjacentElement("afterend",c),a.classList.add("govuk-visually-hidden"),this.$textarea.removeAttribute("maxlength"),this.bindChangeEvents(),window.addEventListener("pageshow",(()=>this.updateCountMessage())),this.updateCountMessage()}bindChangeEvents(){this.$textarea.addEventListener("keyup",(()=>this.handleKeyUp())),this.$textarea.addEventListener("focus",(()=>this.handleFocus())),this.$textarea.addEventListener("blur",(()=>this.handleBlur()))}handleKeyUp(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()}handleFocus(){this.valueChecker=window.setInterval((()=>{(!this.lastInputTimestamp||Date.now()-500>=this.lastInputTimestamp)&&this.updateIfValueChanged()}),1e3)}handleBlur(){this.valueChecker&&window.clearInterval(this.valueChecker)}updateIfValueChanged(){this.$textarea.value!==this.lastInputValue&&(this.lastInputValue=this.$textarea.value,this.updateCountMessage())}updateCountMessage(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()}updateVisibleCountMessage(){const t=this.maxLength-this.count(this.$textarea.value)<0;this.$visibleCountMessage.classList.toggle("govuk-character-count__message--disabled",!this.isOverThreshold()),this.$errorMessage||this.$textarea.classList.toggle("govuk-textarea--error",t),this.$visibleCountMessage.classList.toggle("govuk-error-message",t),this.$visibleCountMessage.classList.toggle("govuk-hint",!t),this.$visibleCountMessage.textContent=this.getCountMessage()}updateScreenReaderCountMessage(){this.isOverThreshold()?this.$screenReaderCountMessage.removeAttribute("aria-hidden"):this.$screenReaderCountMessage.setAttribute("aria-hidden","true"),this.$screenReaderCountMessage.textContent=this.getCountMessage()}count(t){var e;return this.config.maxwords?(null!=(e=t.match(/\S+/g))?e:[]).length:t.length}getCountMessage(){const t=this.maxLength-this.count(this.$textarea.value),e=this.config.maxwords?"words":"characters";return this.formatCountMessage(t,e)}formatCountMessage(t,e){if(0===t)return this.i18n.t(`${e}AtLimit`);const s=t<0?"OverLimit":"UnderLimit";return this.i18n.t(`${e}${s}`,{count:Math.abs(t)})}isOverThreshold(){if(!this.config.threshold)return!0;const t=this.count(this.$textarea.value);return this.maxLength*this.config.threshold/100<=t}}E.moduleName="govuk-character-count",E.defaults=Object.freeze({threshold:0,i18n:{charactersUnderLimit:{one:"You have %{count} character remaining",other:"You have %{count} characters remaining"},charactersAtLimit:"You have 0 characters remaining",charactersOverLimit:{one:"You have %{count} character too many",other:"You have %{count} characters too many"},wordsUnderLimit:{one:"You have %{count} word remaining",other:"You have %{count} words remaining"},wordsAtLimit:"You have 0 words remaining",wordsOverLimit:{one:"You have %{count} word too many",other:"You have %{count} words too many"},textareaDescription:{other:""}}}),E.schema=Object.freeze({properties:{i18n:{type:"object"},maxwords:{type:"number"},maxlength:{type:"number"},threshold:{type:"number"}},anyOf:[{required:["maxwords"],errorMessage:'Either "maxlength" or "maxwords" must be provided'},{required:["maxlength"],errorMessage:'Either "maxlength" or "maxwords" must be provided'}]});class A extends g{constructor(t){super(t),this.$inputs=void 0;const e=this.$root.querySelectorAll('input[type="checkbox"]');if(!e.length)throw new p({component:A,identifier:'Form inputs (`<input type="checkbox">`)'});this.$inputs=e,this.$inputs.forEach((t=>{const e=t.getAttribute("data-aria-controls");if(e){if(!document.getElementById(e))throw new p({component:A,identifier:`Conditional reveal (\`id="${e}"\`)`});t.setAttribute("aria-controls",e),t.removeAttribute("data-aria-controls")}})),window.addEventListener("pageshow",(()=>this.syncAllConditionalReveals())),this.syncAllConditionalReveals(),this.$root.addEventListener("click",(t=>this.handleClick(t)))}syncAllConditionalReveals(){this.$inputs.forEach((t=>this.syncConditionalRevealWithInputState(t)))}syncConditionalRevealWithInputState(t){const e=t.getAttribute("aria-controls");if(!e)return;const s=document.getElementById(e);if(null!=s&&s.classList.contains("govuk-checkboxes__conditional")){const e=t.checked;t.setAttribute("aria-expanded",e.toString()),s.classList.toggle("govuk-checkboxes__conditional--hidden",!e)}}unCheckAllInputsExcept(t){document.querySelectorAll(`input[type="checkbox"][name="${t.name}"]`).forEach((e=>{t.form===e.form&&e!==t&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}))}unCheckExclusiveInputs(t){document.querySelectorAll(`input[data-behaviour="exclusive"][type="checkbox"][name="${t.name}"]`).forEach((e=>{t.form===e.form&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}))}handleClick(t){const e=t.target;e instanceof HTMLInputElement&&"checkbox"===e.type&&(e.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(e),e.checked&&("exclusive"===e.getAttribute("data-behaviour")?this.unCheckAllInputsExcept(e):this.unCheckExclusiveInputs(e)))}}A.moduleName="govuk-checkboxes";class T extends f{constructor(t,e={}){super(t,e),this.config.disableAutoFocus||o(this.$root),this.$root.addEventListener("click",(t=>this.handleClick(t)))}handleClick(t){const e=t.target;e&&this.focusTarget(e)&&t.preventDefault()}focusTarget(t){if(!(t instanceof HTMLAnchorElement))return!1;const e=t.hash.replace("#","");if(!e)return!1;const s=document.getElementById(e);if(!s)return!1;const i=this.getAssociatedLegendOrLabel(s);return!!i&&(i.scrollIntoView(),s.focus({preventScroll:!0}),!0)}getAssociatedLegendOrLabel(t){var e;const s=t.closest("fieldset");if(s){const e=s.getElementsByTagName("legend");if(e.length){const s=e[0];if(t instanceof HTMLInputElement&&("checkbox"===t.type||"radio"===t.type))return s;const i=s.getBoundingClientRect().top,n=t.getBoundingClientRect();if(n.height&&window.innerHeight&&n.top+n.height-i<window.innerHeight/2)return s}}return null!=(e=document.querySelector(`label[for='${t.getAttribute("id")}']`))?e:t.closest("label")}}T.moduleName="govuk-error-summary",T.defaults=Object.freeze({disableAutoFocus:!1}),T.schema=Object.freeze({properties:{disableAutoFocus:{type:"boolean"}}});class S extends f{constructor(t,e={}){super(t,e),this.i18n=void 0,this.$button=void 0,this.$skiplinkButton=null,this.$updateSpan=null,this.$indicatorContainer=null,this.$overlay=null,this.keypressCounter=0,this.lastKeyWasModified=!1,this.timeoutTime=5e3,this.keypressTimeoutId=null,this.timeoutMessageId=null;const s=this.$root.querySelector(".govuk-exit-this-page__button");if(!(s instanceof HTMLAnchorElement))throw new p({component:S,element:s,expectedType:"HTMLAnchorElement",identifier:"Button (`.govuk-exit-this-page__button`)"});this.i18n=new w(this.config.i18n),this.$button=s;const i=document.querySelector(".govuk-js-exit-this-page-skiplink");i instanceof HTMLAnchorElement&&(this.$skiplinkButton=i),this.buildIndicator(),this.initUpdateSpan(),this.initButtonClickHandler(),"govukFrontendExitThisPageKeypress"in document.body.dataset||(document.addEventListener("keyup",this.handleKeypress.bind(this),!0),document.body.dataset.govukFrontendExitThisPageKeypress="true"),window.addEventListener("pageshow",this.resetPage.bind(this))}initUpdateSpan(){this.$updateSpan=document.createElement("span"),this.$updateSpan.setAttribute("role","status"),this.$updateSpan.className="govuk-visually-hidden",this.$root.appendChild(this.$updateSpan)}initButtonClickHandler(){this.$button.addEventListener("click",this.handleClick.bind(this)),this.$skiplinkButton&&this.$skiplinkButton.addEventListener("click",this.handleClick.bind(this))}buildIndicator(){this.$indicatorContainer=document.createElement("div"),this.$indicatorContainer.className="govuk-exit-this-page__indicator",this.$indicatorContainer.setAttribute("aria-hidden","true");for(let t=0;t<3;t++){const t=document.createElement("div");t.className="govuk-exit-this-page__indicator-light",this.$indicatorContainer.appendChild(t)}this.$button.appendChild(this.$indicatorContainer)}updateIndicator(){this.$indicatorContainer&&(this.$indicatorContainer.classList.toggle("govuk-exit-this-page__indicator--visible",this.keypressCounter>0),this.$indicatorContainer.querySelectorAll(".govuk-exit-this-page__indicator-light").forEach(((t,e)=>{t.classList.toggle("govuk-exit-this-page__indicator-light--on",e<this.keypressCounter)})))}exitPage(){this.$updateSpan&&(this.$updateSpan.textContent="",document.body.classList.add("govuk-exit-this-page-hide-content"),this.$overlay=document.createElement("div"),this.$overlay.className="govuk-exit-this-page-overlay",this.$overlay.setAttribute("role","alert"),document.body.appendChild(this.$overlay),this.$overlay.textContent=this.i18n.t("activated"),window.location.href=this.$button.href)}handleClick(t){t.preventDefault(),this.exitPage()}handleKeypress(t){this.$updateSpan&&("Shift"!==t.key||this.lastKeyWasModified?this.keypressTimeoutId&&this.resetKeypressTimer():(this.keypressCounter+=1,this.updateIndicator(),this.timeoutMessageId&&(window.clearTimeout(this.timeoutMessageId),this.timeoutMessageId=null),this.keypressCounter>=3?(this.keypressCounter=0,this.keypressTimeoutId&&(window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null),this.exitPage()):1===this.keypressCounter?this.$updateSpan.textContent=this.i18n.t("pressTwoMoreTimes"):this.$updateSpan.textContent=this.i18n.t("pressOneMoreTime"),this.setKeypressTimer()),this.lastKeyWasModified=t.shiftKey)}setKeypressTimer(){this.keypressTimeoutId&&window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=window.setTimeout(this.resetKeypressTimer.bind(this),this.timeoutTime)}resetKeypressTimer(){if(!this.$updateSpan)return;this.keypressTimeoutId&&(window.clearTimeout(this.keypressTimeoutId),this.keypressTimeoutId=null);const t=this.$updateSpan;this.keypressCounter=0,t.textContent=this.i18n.t("timedOut"),this.timeoutMessageId=window.setTimeout((()=>{t.textContent=""}),this.timeoutTime),this.updateIndicator()}resetPage(){document.body.classList.remove("govuk-exit-this-page-hide-content"),this.$overlay&&(this.$overlay.remove(),this.$overlay=null),this.$updateSpan&&(this.$updateSpan.setAttribute("role","status"),this.$updateSpan.textContent=""),this.updateIndicator(),this.keypressTimeoutId&&window.clearTimeout(this.keypressTimeoutId),this.timeoutMessageId&&window.clearTimeout(this.timeoutMessageId)}}S.moduleName="govuk-exit-this-page",S.defaults=Object.freeze({i18n:{activated:"Loading.",timedOut:"Exit this page expired.",pressTwoMoreTimes:"Shift, press 2 more times to exit.",pressOneMoreTime:"Shift, press 1 more time to exit."}}),S.schema=Object.freeze({properties:{i18n:{type:"object"}}});class D extends f{constructor(t,e={}){super(t,e),this.$input=void 0,this.$button=void 0,this.$status=void 0,this.i18n=void 0,this.id=void 0,this.$announcements=void 0,this.enteredAnotherElement=void 0;const s=this.$root.querySelector("input");if(null===s)throw new p({component:D,identifier:'File inputs (`<input type="file">`)'});if("file"!==s.type)throw new p(u(D,'File input (`<input type="file">`) attribute (`type`) is not `file`'));if(this.$input=s,!this.$input.id)throw new p({component:D,identifier:'File input (`<input type="file">`) attribute (`id`)'});this.id=this.$input.id,this.i18n=new w(this.config.i18n,{locale:L(this.$root,"lang")});const i=this.findLabel();i.id||(i.id=`${this.id}-label`),this.$input.id=`${this.id}-input`,this.$input.setAttribute("hidden","true");const n=document.createElement("button");n.classList.add("govuk-file-upload-button"),n.type="button",n.id=this.id,n.classList.add("govuk-file-upload-button--empty");const o=this.$input.getAttribute("aria-describedby");o&&n.setAttribute("aria-describedby",o);const r=document.createElement("span");r.className="govuk-body govuk-file-upload-button__status",r.setAttribute("aria-live","polite"),r.innerText=this.i18n.t("noFileChosen"),n.appendChild(r);const a=document.createElement("span");a.className="govuk-visually-hidden",a.innerText=", ",a.id=`${this.id}-comma`,n.appendChild(a);const l=document.createElement("span");l.className="govuk-file-upload-button__pseudo-button-container";const c=document.createElement("span");c.className="govuk-button govuk-button--secondary govuk-file-upload-button__pseudo-button",c.innerText=this.i18n.t("chooseFilesButton"),l.appendChild(c),l.insertAdjacentText("beforeend"," ");const d=document.createElement("span");d.className="govuk-body govuk-file-upload-button__instruction",d.innerText=this.i18n.t("dropInstruction"),l.appendChild(d),n.appendChild(l),n.setAttribute("aria-labelledby",`${i.id} ${a.id} ${n.id}`),n.addEventListener("click",this.onClick.bind(this)),n.addEventListener("dragover",(t=>{t.preventDefault()})),this.$root.insertAdjacentElement("afterbegin",n),this.$input.setAttribute("tabindex","-1"),this.$input.setAttribute("aria-hidden","true"),this.$button=n,this.$status=r,this.$input.addEventListener("change",this.onChange.bind(this)),this.updateDisabledState(),this.observeDisabledState(),this.$announcements=document.createElement("span"),this.$announcements.classList.add("govuk-file-upload-announcements"),this.$announcements.classList.add("govuk-visually-hidden"),this.$announcements.setAttribute("aria-live","assertive"),this.$root.insertAdjacentElement("afterend",this.$announcements),this.$button.addEventListener("drop",this.onDrop.bind(this)),document.addEventListener("dragenter",this.updateDropzoneVisibility.bind(this)),document.addEventListener("dragenter",(()=>{this.enteredAnotherElement=!0})),document.addEventListener("dragleave",(()=>{this.enteredAnotherElement||this.$button.disabled||(this.hideDraggingState(),this.$announcements.innerText=this.i18n.t("leftDropZone")),this.enteredAnotherElement=!1}))}updateDropzoneVisibility(t){this.$button.disabled||t.target instanceof Node&&(this.$root.contains(t.target)?t.dataTransfer&&_(t.dataTransfer)&&(this.$button.classList.contains("govuk-file-upload-button--dragging")||(this.showDraggingState(),this.$announcements.innerText=this.i18n.t("enteredDropZone"))):this.$button.classList.contains("govuk-file-upload-button--dragging")&&(this.hideDraggingState(),this.$announcements.innerText=this.i18n.t("leftDropZone")))}showDraggingState(){this.$button.classList.add("govuk-file-upload-button--dragging")}hideDraggingState(){this.$button.classList.remove("govuk-file-upload-button--dragging")}onDrop(t){t.preventDefault(),t.dataTransfer&&_(t.dataTransfer)&&(this.$input.files=t.dataTransfer.files,this.$input.dispatchEvent(new CustomEvent("change")),this.hideDraggingState())}onChange(){const t=this.$input.files.length;0===t?(this.$status.innerText=this.i18n.t("noFileChosen"),this.$button.classList.add("govuk-file-upload-button--empty")):(this.$status.innerText=1===t?this.$input.files[0].name:this.i18n.t("multipleFilesChosen",{count:t}),this.$button.classList.remove("govuk-file-upload-button--empty"))}findLabel(){const t=document.querySelector(`label[for="${this.$input.id}"]`);if(!t)throw new p({component:D,identifier:`Field label (\`<label for=${this.$input.id}>\`)`});return t}onClick(){this.$input.click()}observeDisabledState(){new MutationObserver((t=>{for(const e of t)"attributes"===e.type&&"disabled"===e.attributeName&&this.updateDisabledState()})).observe(this.$input,{attributes:!0})}updateDisabledState(){this.$button.disabled=this.$input.disabled,this.$root.classList.toggle("govuk-drop-zone--disabled",this.$button.disabled)}}function _(t){const e=0===t.types.length,s=t.types.some((t=>"Files"===t));return e||s}D.moduleName="govuk-file-upload",D.defaults=Object.freeze({i18n:{chooseFilesButton:"Choose file",dropInstruction:"or drop file",noFileChosen:"No file chosen",multipleFilesChosen:{one:"%{count} file chosen",other:"%{count} files chosen"},enteredDropZone:"Entered drop zone",leftDropZone:"Left drop zone"}}),D.schema=Object.freeze({properties:{i18n:{type:"object"}}});class M extends g{constructor(t){super(t),this.$menuButton=void 0,this.$menu=void 0,this.menuIsOpen=!1,this.mql=null;const e=this.$root.querySelector(".govuk-js-header-toggle");if(!e)return this;this.$root.classList.add("govuk-header--with-js-navigation");const s=e.getAttribute("aria-controls");if(!s)throw new p({component:M,identifier:'Navigation button (`<button class="govuk-js-header-toggle">`) attribute (`aria-controls`)'});const i=document.getElementById(s);if(!i)throw new p({component:M,element:i,identifier:`Navigation (\`<ul id="${s}">\`)`});this.$menu=i,this.$menuButton=e,this.setupResponsiveChecks(),this.$menuButton.addEventListener("click",(()=>this.handleMenuButtonClick()))}setupResponsiveChecks(){const t=n("desktop");if(!t.value)throw new p({component:M,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",(()=>this.checkMode())):this.mql.addListener((()=>this.checkMode())),this.checkMode()}checkMode(){this.mql&&this.$menu&&this.$menuButton&&(this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden","")))}handleMenuButtonClick(){this.menuIsOpen=!this.menuIsOpen,this.checkMode()}}M.moduleName="govuk-header";class B extends f{constructor(t,e={}){super(t,e),"alert"!==this.$root.getAttribute("role")||this.config.disableAutoFocus||o(this.$root)}}B.moduleName="govuk-notification-banner",B.defaults=Object.freeze({disableAutoFocus:!1}),B.schema=Object.freeze({properties:{disableAutoFocus:{type:"boolean"}}});class j extends f{constructor(t,e={}){super(t,e),this.i18n=void 0,this.$input=void 0,this.$showHideButton=void 0,this.$screenReaderStatusMessage=void 0;const s=this.$root.querySelector(".govuk-js-password-input-input");if(!(s instanceof HTMLInputElement))throw new p({component:j,element:s,expectedType:"HTMLInputElement",identifier:"Form field (`.govuk-js-password-input-input`)"});if("password"!==s.type)throw new p("Password input: Form field (`.govuk-js-password-input-input`) must be of type `password`.");const i=this.$root.querySelector(".govuk-js-password-input-toggle");if(!(i instanceof HTMLButtonElement))throw new p({component:j,element:i,expectedType:"HTMLButtonElement",identifier:"Button (`.govuk-js-password-input-toggle`)"});if("button"!==i.type)throw new p("Password input: Button (`.govuk-js-password-input-toggle`) must be of type `button`.");this.$input=s,this.$showHideButton=i,this.i18n=new w(this.config.i18n,{locale:L(this.$root,"lang")}),this.$showHideButton.removeAttribute("hidden");const n=document.createElement("div");n.className="govuk-password-input__sr-status govuk-visually-hidden",n.setAttribute("aria-live","polite"),this.$screenReaderStatusMessage=n,this.$input.insertAdjacentElement("afterend",n),this.$showHideButton.addEventListener("click",this.toggle.bind(this)),this.$input.form&&this.$input.form.addEventListener("submit",(()=>this.hide())),window.addEventListener("pageshow",(t=>{t.persisted&&"password"!==this.$input.type&&this.hide()})),this.hide()}toggle(t){t.preventDefault(),"password"!==this.$input.type?this.hide():this.show()}show(){this.setType("text")}hide(){this.setType("password")}setType(t){if(t===this.$input.type)return;this.$input.setAttribute("type",t);const e="password"===t,s=e?"show":"hide",i=e?"passwordHidden":"passwordShown";this.$showHideButton.innerText=this.i18n.t(`${s}Password`),this.$showHideButton.setAttribute("aria-label",this.i18n.t(`${s}PasswordAriaLabel`)),this.$screenReaderStatusMessage.innerText=this.i18n.t(`${i}Announcement`)}}j.moduleName="govuk-password-input",j.defaults=Object.freeze({i18n:{showPassword:"Show",hidePassword:"Hide",showPasswordAriaLabel:"Show password",hidePasswordAriaLabel:"Hide password",passwordShownAnnouncement:"Your password is visible",passwordHiddenAnnouncement:"Your password is hidden"}}),j.schema=Object.freeze({properties:{i18n:{type:"object"}}});class H extends g{constructor(t){super(t),this.$inputs=void 0;const e=this.$root.querySelectorAll('input[type="radio"]');if(!e.length)throw new p({component:H,identifier:'Form inputs (`<input type="radio">`)'});this.$inputs=e,this.$inputs.forEach((t=>{const e=t.getAttribute("data-aria-controls");if(e){if(!document.getElementById(e))throw new p({component:H,identifier:`Conditional reveal (\`id="${e}"\`)`});t.setAttribute("aria-controls",e),t.removeAttribute("data-aria-controls")}})),window.addEventListener("pageshow",(()=>this.syncAllConditionalReveals())),this.syncAllConditionalReveals(),this.$root.addEventListener("click",(t=>this.handleClick(t)))}syncAllConditionalReveals(){this.$inputs.forEach((t=>this.syncConditionalRevealWithInputState(t)))}syncConditionalRevealWithInputState(t){const e=t.getAttribute("aria-controls");if(!e)return;const s=document.getElementById(e);if(null!=s&&s.classList.contains("govuk-radios__conditional")){const e=t.checked;t.setAttribute("aria-expanded",e.toString()),s.classList.toggle("govuk-radios__conditional--hidden",!e)}}handleClick(t){const e=t.target;if(!(e instanceof HTMLInputElement)||"radio"!==e.type)return;const s=document.querySelectorAll('input[type="radio"][aria-controls]'),i=e.form,n=e.name;s.forEach((t=>{const e=t.form===i;t.name===n&&e&&this.syncConditionalRevealWithInputState(t)}))}}H.moduleName="govuk-radios";class I extends g{constructor(t){super(t),this.$menuButton=void 0,this.$menu=void 0,this.menuIsOpen=!1,this.mql=null;const e=this.$root.querySelector(".govuk-js-service-navigation-toggle");if(!e)return this;const s=e.getAttribute("aria-controls");if(!s)throw new p({component:I,identifier:'Navigation button (`<button class="govuk-js-service-navigation-toggle">`) attribute (`aria-controls`)'});const i=document.getElementById(s);if(!i)throw new p({component:I,element:i,identifier:`Navigation (\`<ul id="${s}">\`)`});this.$menu=i,this.$menuButton=e,this.setupResponsiveChecks(),this.$menuButton.addEventListener("click",(()=>this.handleMenuButtonClick()))}setupResponsiveChecks(){const t=n("tablet");if(!t.value)throw new p({component:I,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",(()=>this.checkMode())):this.mql.addListener((()=>this.checkMode())),this.checkMode()}checkMode(){this.mql&&this.$menu&&this.$menuButton&&(this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden","")))}handleMenuButtonClick(){this.menuIsOpen=!this.menuIsOpen,this.checkMode()}}I.moduleName="govuk-service-navigation";class q extends g{constructor(t){var e;super(t);const s=this.$root.hash,i=null!=(e=this.$root.getAttribute("href"))?e:"";if(this.$root.origin!==window.location.origin||this.$root.pathname!==window.location.pathname)return;const n=s.replace("#","");if(!n)throw new p(`Skip link: Target link (\`href="${i}"\`) has no hash fragment`);const r=document.getElementById(n);if(!r)throw new p({component:q,element:r,identifier:`Target content (\`id="${n}"\`)`});this.$root.addEventListener("click",(()=>o(r,{onBeforeFocus(){r.classList.add("govuk-skip-link-focused-element")},onBlur(){r.classList.remove("govuk-skip-link-focused-element")}})))}}q.elementType=HTMLAnchorElement,q.moduleName="govuk-skip-link";class O extends g{constructor(t){super(t),this.$tabs=void 0,this.$tabList=void 0,this.$tabListItems=void 0,this.jsHiddenClass="govuk-tabs__panel--hidden",this.changingHash=!1,this.boundTabClick=void 0,this.boundTabKeydown=void 0,this.boundOnHashChange=void 0,this.mql=null;const e=this.$root.querySelectorAll("a.govuk-tabs__tab");if(!e.length)throw new p({component:O,identifier:'Links (`<a class="govuk-tabs__tab">`)'});this.$tabs=e,this.boundTabClick=this.onTabClick.bind(this),this.boundTabKeydown=this.onTabKeydown.bind(this),this.boundOnHashChange=this.onHashChange.bind(this);const s=this.$root.querySelector(".govuk-tabs__list"),i=this.$root.querySelectorAll("li.govuk-tabs__list-item");if(!s)throw new p({component:O,identifier:'List (`<ul class="govuk-tabs__list">`)'});if(!i.length)throw new p({component:O,identifier:'List items (`<li class="govuk-tabs__list-item">`)'});this.$tabList=s,this.$tabListItems=i,this.setupResponsiveChecks()}setupResponsiveChecks(){const t=n("tablet");if(!t.value)throw new p({component:O,identifier:`CSS custom property (\`${t.property}\`) on pseudo-class \`:root\``});this.mql=window.matchMedia(`(min-width: ${t.value})`),"addEventListener"in this.mql?this.mql.addEventListener("change",(()=>this.checkMode())):this.mql.addListener((()=>this.checkMode())),this.checkMode()}checkMode(){var t;null!=(t=this.mql)&&t.matches?this.setup():this.teardown()}setup(){var t;this.$tabList.setAttribute("role","tablist"),this.$tabListItems.forEach((t=>{t.setAttribute("role","presentation")})),this.$tabs.forEach((t=>{this.setAttributes(t),t.addEventListener("click",this.boundTabClick,!0),t.addEventListener("keydown",this.boundTabKeydown,!0),this.hideTab(t)}));const e=null!=(t=this.getTab(window.location.hash))?t:this.$tabs[0];this.showTab(e),window.addEventListener("hashchange",this.boundOnHashChange,!0)}teardown(){this.$tabList.removeAttribute("role"),this.$tabListItems.forEach((t=>{t.removeAttribute("role")})),this.$tabs.forEach((t=>{t.removeEventListener("click",this.boundTabClick,!0),t.removeEventListener("keydown",this.boundTabKeydown,!0),this.unsetAttributes(t)})),window.removeEventListener("hashchange",this.boundOnHashChange,!0)}onHashChange(){const t=window.location.hash,e=this.getTab(t);if(!e)return;if(this.changingHash)return void(this.changingHash=!1);const s=this.getCurrentTab();s&&(this.hideTab(s),this.showTab(e),e.focus())}hideTab(t){this.unhighlightTab(t),this.hidePanel(t)}showTab(t){this.highlightTab(t),this.showPanel(t)}getTab(t){return this.$root.querySelector(`a.govuk-tabs__tab[href="${t}"]`)}setAttributes(t){const e=t.hash.replace("#","");if(!e)return;t.setAttribute("id",`tab_${e}`),t.setAttribute("role","tab"),t.setAttribute("aria-controls",e),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");const s=this.getPanel(t);s&&(s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",t.id),s.classList.add(this.jsHiddenClass))}unsetAttributes(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");const e=this.getPanel(t);e&&(e.removeAttribute("role"),e.removeAttribute("aria-labelledby"),e.classList.remove(this.jsHiddenClass))}onTabClick(t){const e=this.getCurrentTab(),s=t.currentTarget;e&&s instanceof HTMLAnchorElement&&(t.preventDefault(),this.hideTab(e),this.showTab(s),this.createHistoryEntry(s))}createHistoryEntry(t){const e=this.getPanel(t);if(!e)return;const s=e.id;e.id="",this.changingHash=!0,window.location.hash=s,e.id=s}onTabKeydown(t){switch(t.key){case"ArrowLeft":case"Left":this.activatePreviousTab(),t.preventDefault();break;case"ArrowRight":case"Right":this.activateNextTab(),t.preventDefault()}}activateNextTab(){const t=this.getCurrentTab();if(null==t||!t.parentElement)return;const e=t.parentElement.nextElementSibling;if(!e)return;const s=e.querySelector("a.govuk-tabs__tab");s&&(this.hideTab(t),this.showTab(s),s.focus(),this.createHistoryEntry(s))}activatePreviousTab(){const t=this.getCurrentTab();if(null==t||!t.parentElement)return;const e=t.parentElement.previousElementSibling;if(!e)return;const s=e.querySelector("a.govuk-tabs__tab");s&&(this.hideTab(t),this.showTab(s),s.focus(),this.createHistoryEntry(s))}getPanel(t){const e=t.hash.replace("#","");return e?this.$root.querySelector(`#${e}`):null}showPanel(t){const e=this.getPanel(t);e&&e.classList.remove(this.jsHiddenClass)}hidePanel(t){const e=this.getPanel(t);e&&e.classList.add(this.jsHiddenClass)}unhighlightTab(t){t.parentElement&&(t.setAttribute("aria-selected","false"),t.parentElement.classList.remove("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","-1"))}highlightTab(t){t.parentElement&&(t.setAttribute("aria-selected","true"),t.parentElement.classList.add("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","0"))}getCurrentTab(){return this.$root.querySelector(".govuk-tabs__list-item--selected a.govuk-tabs__tab")}}function F(t={}){const e=a(t)?t:{},s=$(t);try{if(!r())throw new d;if(null===s.scope)throw new p({element:s.scope,identifier:"GOV.UK Frontend scope element (`$scope`)"})}catch(t){return void(s.onError?s.onError(t,{config:e}):console.log(t))}[[x,e.accordion],[C,e.button],[E,e.characterCount],[A],[T,e.errorSummary],[S,e.exitThisPage],[D,e.fileUpload],[M],[B,e.notificationBanner],[j,e.passwordInput],[H],[I],[q],[O]].forEach((([t,e])=>{N(t,e,s)}))}function N(t,e,s){let i;const n=$(s);try{var o;if(!r())throw new d;if(null===n.scope)throw new p({element:n.scope,component:t,identifier:"Scope element (`$scope`)"});i=null==(o=n.scope)?void 0:o.querySelectorAll(`[data-module="${t.moduleName}"]`)}catch(s){return n.onError?n.onError(s,{component:t,config:e}):console.log(s),[]}return Array.from(null!=i?i:[]).map((s=>{try{return void 0!==e?new t(s,e):new t(s)}catch(i){return n.onError?n.onError(i,{element:s,component:t,config:e}):console.log(i),null}})).filter(Boolean)}O.moduleName="govuk-tabs";const P="6.0.0";class R extends g{constructor(t){super(t),this.$root.addEventListener("click",this.onRemoveButtonClick.bind(this)),this.$root.addEventListener("click",this.onAddButtonClick.bind(this)),this.$root.querySelectorAll(".moj-add-another__add-button, moj-add-another__remove-button").forEach((t=>{t instanceof HTMLButtonElement&&(t.type="button")}))}onAddButtonClick(t){const e=t.target;if(!(e&&e instanceof HTMLButtonElement&&e.classList.contains("moj-add-another__add-button")))return;const s=this.getItems(),i=this.getNewItem();if(!(i&&i instanceof HTMLElement))return;this.updateAttributes(i,s.length),this.resetItem(i);const n=s[0];this.hasRemoveButton(n)||this.createRemoveButton(n),s[s.length-1].after(i);const o=i.querySelector("input, textarea, select");o&&o instanceof HTMLInputElement&&o.focus()}hasRemoveButton(t){return t.querySelectorAll(".moj-add-another__remove-button").length}getItems(){return this.$root?Array.from(this.$root.querySelectorAll(".moj-add-another__item")).filter((t=>t instanceof HTMLElement)):[]}getNewItem(){const t=this.getItems()[0].cloneNode(!0);if(t&&t instanceof HTMLElement)return this.hasRemoveButton(t)||this.createRemoveButton(t),t}updateAttributes(t,e){t.querySelectorAll("[data-name]").forEach((s=>{if(!this.isValidInputElement(s))return;const i=s.getAttribute("data-name")||"",n=s.getAttribute("data-id")||"",o=s.id;s.name=i.replace(/%index%/,`${e}`),s.id=n.replace(/%index%/,`${e}`);const r=s.parentElement.querySelector("label")||s.closest("label")||t.querySelector(`[for="${o}"]`);r&&r instanceof HTMLLabelElement&&(r.htmlFor=s.id)}))}createRemoveButton(t){const e=document.createElement("button");e.type="button",e.classList.add("govuk-button","govuk-button--secondary","moj-add-another__remove-button"),e.textContent="Remove",t.append(e)}resetItem(t){t.querySelectorAll("[data-name], [data-id]").forEach((t=>{if(this.isValidInputElement(t))if(t instanceof HTMLSelectElement)t.selectedIndex=-1,t.value="";else if(t instanceof HTMLTextAreaElement)t.value="";else switch(t.type){case"checkbox":case"radio":t.checked=!1;break;default:t.value=""}}))}onRemoveButtonClick(t){const e=t.target;if(!(e&&e instanceof HTMLButtonElement&&e.classList.contains("moj-add-another__remove-button")))return;e.closest(".moj-add-another__item").remove();const s=this.getItems();1===s.length&&s[0].querySelector(".moj-add-another__remove-button").remove(),s.forEach(((t,e)=>{this.updateAttributes(t,e)})),this.focusHeading()}focusHeading(){const t=this.$root.querySelector(".moj-add-another__heading");t&&t instanceof HTMLElement&&t.focus()}isValidInputElement(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement}}function z(t,e={}){var s;const i=t.getAttribute("tabindex");function n(){var s;null==(s=e.onBlur)||s.call(t),i||t.removeAttribute("tabindex")}i||t.setAttribute("tabindex","-1"),t.addEventListener("focus",(function(){t.addEventListener("blur",n,{once:!0})}),{once:!0}),null==(s=e.onBeforeFocus)||s.call(t),t.focus()}function K(t,e,s){let i,n;t.getAttribute(e)&&(t.getAttribute(e)===s?t.removeAttribute(e):(i=new RegExp(`(^|\\s)${s}(\\s|$)`),n=t.getAttribute(e).match(i),n&&3===n.length&&t.setAttribute(e,t.getAttribute(e).replace(i,n[1]&&n[2]?" ":""))))}function V(t,e,s){let i;t.getAttribute(e)?(i=new RegExp(`(^|\\s)${s}(\\s|$)`),i.test(t.getAttribute(e))||t.setAttribute(e,`${t.getAttribute(e)} ${s}`)):t.setAttribute(e,s)}R.moduleName="moj-add-another";class Y extends f{constructor(t,e={}){super(t,e),"alert"!==this.$root.getAttribute("role")||this.config.disableAutoFocus||z(this.$root),this.$dismissButton=this.$root.querySelector(".moj-alert__dismiss"),this.config.dismissible&&this.$dismissButton&&(this.$dismissButton.innerHTML=this.config.dismissText,this.$dismissButton.removeAttribute("hidden"),this.$root.addEventListener("click",(t=>{t.target instanceof Node&&this.$dismissButton.contains(t.target)&&this.dimiss()})))}dimiss(){let t;if(this.config.focusOnDismissSelector&&(t=document.querySelector(this.config.focusOnDismissSelector)),!t){const e=this.$root.nextElementSibling;e&&e.matches(".moj-alert")&&(t=e)}t||(t=function(t){if(!(t&&t instanceof HTMLElement))return;let e=t.previousElementSibling;for(;e;){if(e.matches(".moj-alert, h1, h2, h3, h4, h5, h6"))return e;e=e.previousElementSibling}}(this.$root)),t||(t=function(t,e){if(!(t&&t instanceof HTMLElement&&e))return;let s=t;for(;s;){if(s.matches(e))return s;let t=s.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}s=s.parentElement}}(this.$root,"h1, h2, h3, h4, h5, h6, main, body")),t instanceof HTMLElement&&z(t),this.$root.remove()}}Y.moduleName="moj-alert",Y.defaults=Object.freeze({dismissible:!1,dismissText:"Dismiss",disableAutoFocus:!1}),Y.schema=Object.freeze({properties:{dismissible:{type:"boolean"},dismissText:{type:"string"},disableAutoFocus:{type:"boolean"},focusOnDismissSelector:{type:"string"}}});class U extends f{constructor(t,e={}){if(super(t,e),1===this.$root.children.length){const t=this.$root.children[0];t.classList.forEach((e=>{e.startsWith("govuk-button-")&&t.classList.remove(e),t.classList.remove("moj-button-menu__item"),t.classList.add("moj-button-menu__single-button")})),this.config.buttonClasses&&t.classList.add(...this.config.buttonClasses.split(" "))}this.$root.children.length>1&&this.initMenu()}initMenu(){this.$menu=this.createMenu(),this.$root.insertAdjacentHTML("afterbegin",this.toggleTemplate()),this.setupMenuItems(),this.$menuToggle=this.$root.querySelector(":scope > button"),this.$items=this.$menu.querySelectorAll("a, button"),this.$menuToggle.addEventListener("click",(t=>{this.toggleMenu(t)})),this.$root.addEventListener("keydown",(t=>{this.handleKeyDown(t)})),document.addEventListener("click",(t=>{t.target instanceof Node&&!this.$root.contains(t.target)&&this.closeMenu(!1)}))}createMenu(){const t=document.createElement("ul");for(t.setAttribute("role","list"),t.hidden=!0,t.classList.add("moj-button-menu__wrapper"),"right"===this.config.alignMenu&&t.classList.add("moj-button-menu__wrapper--right"),this.$root.appendChild(t);this.$root.firstChild!==t;)t.appendChild(this.$root.firstChild);return t}setupMenuItems(){Array.from(this.$menu.children).forEach((t=>{const e=document.createElement("li");this.$menu.insertBefore(e,t),e.appendChild(t),t.setAttribute("tabindex","-1"),"BUTTON"===t.tagName&&t.setAttribute("type","button"),t.classList.forEach((e=>{e.startsWith("govuk-button")&&t.classList.remove(e)})),t.addEventListener("click",(()=>{setTimeout((()=>{this.closeMenu(!1)}),50)}))}))}toggleTemplate(){return`\n    <button type="button" class="govuk-button moj-button-menu__toggle-button ${this.config.buttonClasses||""}" aria-haspopup="true" aria-expanded="false">\n      <span>\n       ${this.config.buttonText}\n       <svg width="11" height="5" viewBox="0 0 11 5"  xmlns="http://www.w3.org/2000/svg">\n         <path d="M5.5 0L11 5L0 5L5.5 0Z" fill="currentColor"/>\n       </svg>\n      </span>\n    </button>`}isOpen(){return"true"===this.$menuToggle.getAttribute("aria-expanded")}toggleMenu(t){t.preventDefault();const e=0===t.detail?0:-1;this.isOpen()?this.closeMenu():this.openMenu(e)}openMenu(t=0){this.$menu.hidden=!1,this.$menuToggle.setAttribute("aria-expanded","true"),-1!==t&&this.focusItem(t)}closeMenu(t=!0){this.$menu.hidden=!0,this.$menuToggle.setAttribute("aria-expanded","false"),t&&this.$menuToggle.focus()}focusItem(t){t>=this.$items.length&&(t=0),t<0&&(t=this.$items.length-1);const e=this.$items.item(t);e&&e.focus()}currentFocusIndex(){const t=document.activeElement,e=Array.from(this.$items);return(t instanceof HTMLAnchorElement||t instanceof HTMLButtonElement)&&e.indexOf(t)}handleKeyDown(t){if(t.target===this.$menuToggle)switch(t.key){case"ArrowDown":t.preventDefault(),this.openMenu();break;case"ArrowUp":t.preventDefault(),this.openMenu(this.$items.length-1)}if(t.target instanceof Node&&this.$menu.contains(t.target)&&this.isOpen())switch(t.key){case"ArrowDown":t.preventDefault(),-1!==this.currentFocusIndex()&&this.focusItem(this.currentFocusIndex()+1);break;case"ArrowUp":t.preventDefault(),-1!==this.currentFocusIndex()&&this.focusItem(this.currentFocusIndex()-1);break;case"Home":t.preventDefault(),this.focusItem(0);break;case"End":t.preventDefault(),this.focusItem(this.$items.length-1)}"Escape"===t.key&&this.isOpen()&&this.closeMenu(),"Tab"===t.key&&this.isOpen()&&this.closeMenu(!1)}}U.moduleName="moj-button-menu",U.defaults=Object.freeze({buttonText:"Actions",alignMenu:"left",buttonClasses:""}),U.schema=Object.freeze({properties:{buttonText:{type:"string"},buttonClasses:{type:"string"},alignMenu:{type:"string"}}});class W extends f{constructor(t,e={}){var s;super(t,e);const i=null!=(s=this.config.input.element)?s:this.$root.querySelector(this.config.input.selector);if(!(i&&i instanceof HTMLInputElement))return this;this.$input=i,this.dayLabels=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.monthLabels=["January","February","March","April","May","June","July","August","September","October","November","December"],this.currentDate=new Date,this.currentDate.setHours(0,0,0,0),this.calendarDays=[],this.excludedDates=[],this.excludedDays=[],this.buttonClass="moj-datepicker__button",this.selectedDayButtonClass="moj-datepicker__button--selected",this.currentDayButtonClass="moj-datepicker__button--current",this.todayButtonClass="moj-datepicker__button--today",this.setOptions(),this.initControls()}initControls(){this.id=`datepicker-${this.$input.id}`,this.$dialog=this.createDialog(),this.createCalendarHeaders();const t=document.createElement("div"),e=document.createElement("div");t.classList.add("moj-datepicker__wrapper"),e.classList.add("govuk-input__wrapper"),this.$input.parentElement.insertBefore(t,this.$input),t.appendChild(e),e.appendChild(this.$input),e.insertAdjacentHTML("beforeend",this.toggleTemplate()),t.insertAdjacentElement("beforeend",this.$dialog),this.$calendarButton=this.$root.querySelector(".moj-js-datepicker-toggle"),this.$dialogTitle=this.$dialog.querySelector(".moj-js-datepicker-month-year"),this.createCalendar(),this.$prevMonthButton=this.$dialog.querySelector(".moj-js-datepicker-prev-month"),this.$prevYearButton=this.$dialog.querySelector(".moj-js-datepicker-prev-year"),this.$nextMonthButton=this.$dialog.querySelector(".moj-js-datepicker-next-month"),this.$nextYearButton=this.$dialog.querySelector(".moj-js-datepicker-next-year"),this.$cancelButton=this.$dialog.querySelector(".moj-js-datepicker-cancel"),this.$okButton=this.$dialog.querySelector(".moj-js-datepicker-ok"),this.$prevMonthButton.addEventListener("click",(t=>this.focusPreviousMonth(t,!1))),this.$prevYearButton.addEventListener("click",(t=>this.focusPreviousYear(t,!1))),this.$nextMonthButton.addEventListener("click",(t=>this.focusNextMonth(t,!1))),this.$nextYearButton.addEventListener("click",(t=>this.focusNextYear(t,!1))),this.$cancelButton.addEventListener("click",(t=>{t.preventDefault(),this.closeDialog()})),this.$okButton.addEventListener("click",(()=>{this.selectDate(this.currentDate)}));const s=this.$dialog.querySelectorAll('button:not([disabled="true"])');this.$firstButtonInDialog=s[0],this.$lastButtonInDialog=s[s.length-1],this.$firstButtonInDialog.addEventListener("keydown",(t=>this.firstButtonKeydown(t))),this.$lastButtonInDialog.addEventListener("keydown",(t=>this.lastButtonKeydown(t))),this.$calendarButton.addEventListener("click",(t=>this.toggleDialog(t))),this.$dialog.addEventListener("keydown",(t=>{"Escape"===t.key&&(this.closeDialog(),t.preventDefault(),t.stopPropagation())})),document.body.addEventListener("mouseup",(t=>{this.backgroundClick(t)})),this.updateCalendar()}createDialog(){const t=`datepicker-title-${this.$input.id}`,e=document.createElement("div");return e.id=this.id,e.setAttribute("class","moj-datepicker__dialog"),e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-labelledby",t),e.innerHTML=this.dialogTemplate(t),e.hidden=!0,e}createCalendar(){const t=this.$dialog.querySelector("tbody");let e=0;for(let s=0;s<6;s++){const i=t.insertRow(s);for(let t=0;t<7;t++){const n=document.createElement("td");i.appendChild(n);const o=document.createElement("button");o.setAttribute("type","button"),n.appendChild(o);const r=new Z(o,e,s,t,this);this.calendarDays.push(r),e++}}}toggleTemplate(){return`<button class="moj-datepicker__toggle moj-js-datepicker-toggle" type="button" aria-haspopup="dialog" aria-controls="${this.id}" aria-expanded="false">\n            <span class="govuk-visually-hidden">Choose date</span>\n            <svg width="32" height="24" focusable="false" class="moj-datepicker-icon" aria-hidden="true" role="img" viewBox="0 0 22 22">\n              <path\n                fill="currentColor"\n                fill-rule="evenodd"\n                clip-rule="evenodd"\n                d="M16.1333 2.93333H5.86668V4.4C5.86668 5.21002 5.21003 5.86667 4.40002 5.86667C3.59 5.86667 2.93335 5.21002 2.93335 4.4V2.93333H2C0.895431 2.93333 0 3.82877 0 4.93334V19.2667C0 20.3712 0.89543 21.2667 2 21.2667H20C21.1046 21.2667 22 20.3712 22 19.2667V4.93333C22 3.82876 21.1046 2.93333 20 2.93333H19.0667V4.4C19.0667 5.21002 18.41 5.86667 17.6 5.86667C16.79 5.86667 16.1333 5.21002 16.1333 4.4V2.93333ZM20.5333 8.06667H1.46665V18.8C1.46665 19.3523 1.91436 19.8 2.46665 19.8H19.5333C20.0856 19.8 20.5333 19.3523 20.5333 18.8V8.06667Z"\n              ></path>\n              <rect x="3.66669" width="1.46667" height="5.13333" rx="0.733333" fill="currentColor"></rect>\n              <rect x="16.8667" width="1.46667" height="5.13333" rx="0.733333" fill="currentColor"></rect>\n            </svg>\n          </button>`}dialogTemplate(t){return`<div class="moj-datepicker__dialog-header">\n            <div class="moj-datepicker__dialog-navbuttons">\n              <button type="button" class="moj-datepicker__button moj-js-datepicker-prev-year">\n                <span class="govuk-visually-hidden">Previous year</span>\n                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" fill="none" focusable="false" aria-hidden="true" role="img">\n                  <path fill-rule="evenodd" clip-rule="evenodd" d="M23.1643 20L28.9572 14.2071L27.5429 12.7929L20.3358 20L27.5429 27.2071L28.9572 25.7929L23.1643 20Z" fill="currentColor"/>\n                  <path fill-rule="evenodd" clip-rule="evenodd" d="M17.1643 20L22.9572 14.2071L21.5429 12.7929L14.3358 20L21.5429 27.2071L22.9572 25.7929L17.1643 20Z" fill="currentColor"/>\n                </svg>\n              </button>\n\n              <button type="button" class="moj-datepicker__button moj-js-datepicker-prev-month">\n                <span class="govuk-visually-hidden">Previous month</span>\n                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" focusable="false" aria-hidden="true" role="img">\n                  <path fill-rule="evenodd" clip-rule="evenodd" d="M20.5729 20L25.7865 14.2071L24.5137 12.7929L18.0273 20L24.5137 27.2071L25.7865 25.7929L20.5729 20Z" fill="currentColor"/>\n                </svg>\n              </button>\n            </div>\n\n            <h2 id="${t}" class="moj-datepicker__dialog-title moj-js-datepicker-month-year" aria-live="polite">June 2020</h2>\n\n            <div class="moj-datepicker__dialog-navbuttons">\n              <button type="button" class="moj-datepicker__button moj-js-datepicker-next-month">\n                <span class="govuk-visually-hidden">Next month</span>\n                <svg width="44" height="40" viewBox="0 0 44 40" fill="none"  focusable="false" aria-hidden="true" role="img">\n                  <path fill-rule="evenodd" clip-rule="evenodd" d="M23.4271 20L18.2135 14.2071L19.4863 12.7929L25.9727 20L19.4863 27.2071L18.2135 25.7929L23.4271 20Z" fill="currentColor"/>\n                </svg>\n              </button>\n\n              <button type="button" class="moj-datepicker__button moj-js-datepicker-next-year">\n                <span class="govuk-visually-hidden">Next year</span>\n                <svg width="44" height="40" viewBox="0 0 44 40" fill="none" fill="none" focusable="false" aria-hidden="true" role="img">\n                  <path fill-rule="evenodd" clip-rule="evenodd" d="M20.8357 20L15.0428 14.2071L16.4571 12.7929L23.6642 20L16.4571 27.2071L15.0428 25.7929L20.8357 20Z" fill="currentColor"/>\n                  <path fill-rule="evenodd" clip-rule="evenodd" d="M26.8357 20L21.0428 14.2071L22.4571 12.7929L29.6642 20L22.4571 27.2071L21.0428 25.7929L26.8357 20Z" fill="currentColor"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          <table class="moj-datepicker__calendar moj-js-datepicker-grid" role="application" aria-labelledby="${t}">\n            <thead>\n              <tr></tr>\n            </thead>\n\n            <tbody></tbody>\n          </table>\n\n          <div class="govuk-button-group">\n            <button type="button" class="govuk-button moj-js-datepicker-ok">Select</button>\n            <button type="button" class="govuk-button govuk-button--secondary moj-js-datepicker-cancel">Close</button>\n          </div>`}createCalendarHeaders(){this.dayLabels.forEach((t=>{const e=`<th scope="col"><span aria-hidden="true">${t.substring(0,3)}</span><span class="govuk-visually-hidden">${t}</span></th>`;this.$dialog.querySelector("thead > tr").insertAdjacentHTML("beforeend",e)}))}leadingZeros(t,e=2){let s=t.toString();for(;s.length<e;)s=`0${s}`;return s}setOptions(){this.setMinAndMaxDatesOnCalendar(),this.setExcludedDates(),this.setExcludedDays(),this.setWeekStartDay()}setMinAndMaxDatesOnCalendar(){this.config.minDate&&(this.minDate=this.formattedDateFromString(this.config.minDate,null),this.minDate&&this.currentDate<this.minDate&&(this.currentDate=this.minDate)),this.config.maxDate&&(this.maxDate=this.formattedDateFromString(this.config.maxDate,null),this.maxDate&&this.currentDate>this.maxDate&&(this.currentDate=this.maxDate))}setExcludedDates(){this.config.excludedDates&&(this.excludedDates=this.config.excludedDates.replace(/\s+/," ").split(" ").map((t=>t.includes("-")?this.parseDateRangeString(t):[this.formattedDateFromString(t)])).reduce(((t,e)=>t.concat(e))).filter((t=>t)))}parseDateRangeString(t){const e=[],[s,i]=t.split("-").map((t=>this.formattedDateFromString(t,null)));if(s&&i){const t=new Date(s.getTime());for(;t<=i;)e.push(new Date(t)),t.setDate(t.getDate()+1)}return e}setExcludedDays(){if(this.config.excludedDays){const t=this.dayLabels.map((t=>t.toLowerCase()));"monday"===this.config.weekStartDay&&t.unshift(t.pop()),this.excludedDays=this.config.excludedDays.replace(/\s+/," ").toLowerCase().split(" ").map((e=>t.indexOf(e))).filter((t=>-1!==t))}}setWeekStartDay(){const t=this.config.weekStartDay;t&&"sunday"===t.toLowerCase()?(this.config.weekStartDay="sunday",this.dayLabels.unshift(this.dayLabels.pop())):this.config.weekStartDay="monday"}isExcludedDate(t){if(this.minDate&&this.minDate>t)return!0;if(this.maxDate&&this.maxDate<t)return!0;for(const e of this.excludedDates)if(t.toDateString()===e.toDateString())return!0;return!!this.excludedDays.includes(t.getDay())}formattedDateFromString(t,e=new Date){let s=null;const i=/(\d{1,2})([-/,. ])(\d{1,2})\2(\d{4})/;if(!i.test(t))return e;const n=i.exec(t),o=n[1],r=n[3],a=n[4];return s=new Date(`${a}-${r}-${o}`),s instanceof Date&&Number.isFinite(s.getTime())?s:e}formattedDateFromDate(t){return this.config.leadingZeros?`${this.leadingZeros(t.getDate())}/${this.leadingZeros(t.getMonth()+1)}/${t.getFullYear()}`:`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}formattedDateHuman(t){return`${this.dayLabels[(t.getDay()+6)%7]} ${t.getDate()} ${this.monthLabels[t.getMonth()]} ${t.getFullYear()}`}backgroundClick(t){this.isOpen()&&t.target instanceof Node&&!this.$dialog.contains(t.target)&&!this.$input.contains(t.target)&&!this.$calendarButton.contains(t.target)&&(t.preventDefault(),this.closeDialog())}firstButtonKeydown(t){"Tab"===t.key&&t.shiftKey&&(this.$lastButtonInDialog.focus(),t.preventDefault())}lastButtonKeydown(t){"Tab"!==t.key||t.shiftKey||(this.$firstButtonInDialog.focus(),t.preventDefault())}updateCalendar(){this.$dialogTitle.innerHTML=`${this.monthLabels[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;const t=this.currentDate,e=new Date(t.getFullYear(),t.getMonth(),1);let s;s="monday"===this.config.weekStartDay?0===e.getDay()?6:e.getDay()-1:e.getDay(),e.setDate(e.getDate()-s);const i=new Date(e);for(const e of this.calendarDays){const s=i.getMonth()!==t.getMonth(),n=this.isExcludedDate(i);e.update(i,s,n),i.setDate(i.getDate()+1)}}setCurrentDate(t=!0){const{currentDate:e}=this;if(this.calendarDays.forEach((s=>{s.$button.classList.add("moj-datepicker__button"),s.$button.classList.add("moj-datepicker__calendar-day"),s.$button.setAttribute("tabindex","-1"),s.$button.classList.remove(this.selectedDayButtonClass);const i=s.date;i.setHours(0,0,0,0);const n=new Date;n.setHours(0,0,0,0),i.getTime()===e.getTime()&&t&&(s.$button.setAttribute("tabindex","0"),s.$button.focus(),s.$button.classList.add(this.selectedDayButtonClass)),this.inputDate&&i.getTime()===this.inputDate.getTime()?(s.$button.classList.add(this.currentDayButtonClass),s.$button.setAttribute("aria-current","date")):(s.$button.classList.remove(this.currentDayButtonClass),s.$button.removeAttribute("aria-current")),i.getTime()===n.getTime()?s.$button.classList.add(this.todayButtonClass):s.$button.classList.remove(this.todayButtonClass)})),!t){const t=this.calendarDays.filter((t=>"block"===window.getComputedStyle(t.$button).display&&!t.$button.disabled));t[0].$button.setAttribute("tabindex","0"),this.currentDate=t[0].date}}selectDate(t){if(this.isExcludedDate(t))return;this.$calendarButton.querySelector("span").innerText=`Choose date. Selected date is ${this.formattedDateHuman(t)}`,this.$input.value=this.formattedDateFromDate(t);const e=new Event("change",{bubbles:!0,cancelable:!0});this.$input.dispatchEvent(e),this.closeDialog()}isOpen(){return this.$dialog.classList.contains("moj-datepicker__dialog--open")}toggleDialog(t){t.preventDefault(),this.isOpen()?this.closeDialog():(this.setMinAndMaxDatesOnCalendar(),this.openDialog())}openDialog(){this.$dialog.hidden=!1,this.$dialog.classList.add("moj-datepicker__dialog--open"),this.$calendarButton.setAttribute("aria-expanded","true"),this.$input.offsetWidth>this.$dialog.offsetWidth&&(this.$dialog.style.right="0px"),this.$dialog.style.top=`${this.$input.offsetHeight+3}px`,this.inputDate=this.formattedDateFromString(this.$input.value),this.currentDate=this.inputDate,this.currentDate.setHours(0,0,0,0),this.updateCalendar(),this.setCurrentDate()}closeDialog(){this.$dialog.hidden=!0,this.$dialog.classList.remove("moj-datepicker__dialog--open"),this.$calendarButton.setAttribute("aria-expanded","false"),this.$calendarButton.focus()}goToDate(t,e){const s=this.currentDate;this.currentDate=t,s.getMonth()===this.currentDate.getMonth()&&s.getFullYear()===this.currentDate.getFullYear()||this.updateCalendar(),this.setCurrentDate(e)}focusNextDay(){const t=new Date(this.currentDate);t.setDate(t.getDate()+1),this.goToDate(t)}focusPreviousDay(){const t=new Date(this.currentDate);t.setDate(t.getDate()-1),this.goToDate(t)}focusNextWeek(){const t=new Date(this.currentDate);t.setDate(t.getDate()+7),this.goToDate(t)}focusPreviousWeek(){const t=new Date(this.currentDate);t.setDate(t.getDate()-7),this.goToDate(t)}focusFirstDayOfWeek(){const t=new Date(this.currentDate),e="sunday"===this.config.weekStartDay?0:1,s=t.getDay(),i=s>=e?s-e:6-s;t.setDate(t.getDate()-i),t.setHours(0,0,0,0),this.goToDate(t)}focusLastDayOfWeek(){const t=new Date(this.currentDate),e="sunday"===this.config.weekStartDay?6:0,s=t.getDay(),i=s<=e?e-s:7-s;t.setDate(t.getDate()+i),t.setHours(0,0,0,0),this.goToDate(t)}focusNextMonth(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setMonth(s.getMonth()+1,1),this.goToDate(s,e)}focusPreviousMonth(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setMonth(s.getMonth()-1,1),this.goToDate(s,e)}focusNextYear(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setFullYear(s.getFullYear()+1,s.getMonth(),1),this.goToDate(s,e)}focusPreviousYear(t,e=!0){t.preventDefault();const s=new Date(this.currentDate);s.setFullYear(s.getFullYear()-1,s.getMonth(),1),this.goToDate(s,e)}}W.moduleName="moj-date-picker",W.defaults=Object.freeze({leadingZeros:!1,weekStartDay:"monday",input:{selector:".moj-js-datepicker-input"}}),W.schema=Object.freeze({properties:{excludedDates:{type:"string"},excludedDays:{type:"string"},leadingZeros:{type:"boolean"},maxDate:{type:"string"},minDate:{type:"string"},weekStartDay:{type:"string"},input:{type:"object"}}});class Z{constructor(t,e,s,i,n){this.index=e,this.row=s,this.column=i,this.$button=t,this.picker=n,this.date=new Date,this.$button.addEventListener("keydown",this.keyPress.bind(this)),this.$button.addEventListener("click",this.click.bind(this))}update(t,e,s){const i=t.getDate();let n=this.picker.formattedDateHuman(t);s?(this.$button.setAttribute("aria-disabled","true"),n=`Excluded date, ${n}`):this.$button.removeAttribute("aria-disabled"),this.$button.style.display=e?"none":"block",this.$button.setAttribute("data-testid",this.picker.formattedDateFromDate(t)),this.$button.innerHTML=`<span class="govuk-visually-hidden">${n}</span><span aria-hidden="true">${i}</span>`,this.date=new Date(t)}click(t){this.picker.goToDate(this.date),this.picker.selectDate(this.date),t.stopPropagation(),t.preventDefault()}keyPress(t){let e=!0;switch(t.key){case"ArrowLeft":this.picker.focusPreviousDay();break;case"ArrowRight":this.picker.focusNextDay();break;case"ArrowUp":this.picker.focusPreviousWeek();break;case"ArrowDown":this.picker.focusNextWeek();break;case"Home":this.picker.focusFirstDayOfWeek();break;case"End":this.picker.focusLastDayOfWeek();break;case"PageUp":t.shiftKey?this.picker.focusPreviousYear(t):this.picker.focusPreviousMonth(t);break;case"PageDown":t.shiftKey?this.picker.focusNextYear(t):this.picker.focusNextMonth(t);break;default:e=!1}e&&(t.preventDefault(),t.stopPropagation())}}class G extends g{constructor(t){super(t),this.initHeader()}initHeader(){this.$tabOpenClass="probation-common-header__toggle-open";const t=this.$root.querySelector(".probation-common-header__user-menu-toggle"),e=this.$root.querySelector("#probation-common-header-user-menu");if(!(t&&e&&t instanceof HTMLElement&&e instanceof HTMLElement))return 0;this.hideFallbackLinks(),t.removeAttribute("hidden"),this.closeTabs([[t,e]]),t.addEventListener("click",(s=>{this.toggleMenu(t,e)}))}closeTabs(t){t.forEach((([t,e])=>{e&&t&&(e.setAttribute("hidden","hidden"),t.classList.remove(this.$tabOpenClass),t.parentElement.classList.remove("item-open"),t.setAttribute("aria-expanded","false"),t.dataset.textForShow&&t.setAttribute("aria-label",t.dataset.textForShow))}))}toggleMenu(t,e){e.getAttribute("hidden")?e&&t&&(e.removeAttribute("hidden"),t.classList.add(this.$tabOpenClass),t.parentElement.classList.add("item-open"),t.setAttribute("aria-expanded","true"),t.dataset.textForHide&&t.setAttribute("aria-label",t.dataset.textForHide)):this.closeTabs([[t,e]])}hideFallbackLinks(){const t=this.$root.querySelector(".probation-common-header__user-menu-link");t&&t.setAttribute("hidden","hidden")}}G.moduleName="pds-header";class J extends f{constructor(t,e={}){var s,i;super(t,e);const n=null!=(s=this.config.toggleButtonContainer.element)?s:document.querySelector(this.config.toggleButtonContainer.selector),o=null!=(i=this.config.closeButtonContainer.element)?i:this.$root.querySelector(this.config.closeButtonContainer.selector);if(!(n instanceof HTMLElement&&o instanceof HTMLElement))return this;this.$toggleButtonContainer=n,this.$closeButtonContainer=o,this.createToggleButton(),this.setupResponsiveChecks(),this.$root.setAttribute("tabindex","-1"),this.config.startHidden&&this.hideMenu()}setupResponsiveChecks(){this.mq=window.matchMedia(this.config.bigModeMediaQuery),this.mq.addListener(this.checkMode.bind(this)),this.checkMode()}createToggleButton(){this.$menuButton=document.createElement("button"),this.$menuButton.setAttribute("type","button"),this.$menuButton.setAttribute("aria-haspopup","true"),this.$menuButton.setAttribute("aria-expanded","false"),this.$menuButton.className=`govuk-button ${this.config.toggleButton.classes}`,this.$menuButton.textContent=this.config.toggleButton.showText,this.$menuButton.addEventListener("click",this.onMenuButtonClick.bind(this)),this.$toggleButtonContainer.append(this.$menuButton)}checkMode(){this.mq.matches?this.enableBigMode():this.enableSmallMode()}enableBigMode(){this.showMenu(),this.removeCloseButton()}enableSmallMode(){this.hideMenu(),this.addCloseButton()}addCloseButton(){this.$closeButton=document.createElement("button"),this.$closeButton.setAttribute("type","button"),this.$closeButton.className=this.config.closeButton.classes,this.$closeButton.textContent=this.config.closeButton.text,this.$closeButton.addEventListener("click",this.onCloseClick.bind(this)),this.$closeButtonContainer.append(this.$closeButton)}onCloseClick(){this.hideMenu(),this.$menuButton.focus()}removeCloseButton(){this.$closeButton&&(this.$closeButton.remove(),this.$closeButton=null)}hideMenu(){this.$menuButton.setAttribute("aria-expanded","false"),this.$root.classList.add("moj-js-hidden"),this.$menuButton.textContent=this.config.toggleButton.showText}showMenu(){this.$menuButton.setAttribute("aria-expanded","true"),this.$root.classList.remove("moj-js-hidden"),this.$menuButton.textContent=this.config.toggleButton.hideText}onMenuButtonClick(){this.toggle()}toggle(){"false"===this.$menuButton.getAttribute("aria-expanded")?(this.showMenu(),this.$root.focus()):this.hideMenu()}}J.moduleName="moj-filter",J.defaults=Object.freeze({bigModeMediaQuery:"(min-width: 48.0625em)",startHidden:!0,toggleButton:{showText:"Show filter",hideText:"Hide filter",classes:"govuk-button--secondary"},toggleButtonContainer:{selector:".moj-action-bar__filter"},closeButton:{text:"Close",classes:"moj-filter__close"},closeButtonContainer:{selector:".moj-filter__header-action"}}),J.schema=Object.freeze({properties:{bigModeMediaQuery:{type:"string"},startHidden:{type:"boolean"},toggleButton:{type:"object"},toggleButtonContainer:{type:"object"},closeButton:{type:"object"},closeButtonContainer:{type:"object"}}});class Q extends f{constructor(t,e={}){super(t,e);const s=this.config.summary.element||document.querySelector(this.config.summary.selector);if(!(s&&s instanceof HTMLElement))return this;this.$summary=s,this.errors=[],this.validators=[],this.originalTitle=document.title,this.$root.addEventListener("submit",this.onSubmit.bind(this))}escapeHtml(t=""){return String(t).replace(/[&<>"'`=/]/g,(t=>Q.entityMap[t]))}resetTitle(){document.title=this.originalTitle}updateTitle(){document.title=`${this.errors.length} errors - ${document.title}`}showSummary(){this.$summary.innerHTML=this.getSummaryHtml(),this.$summary.classList.remove("moj-hidden"),this.$summary.setAttribute("aria-labelledby","errorSummary-heading"),this.$summary.focus()}getSummaryHtml(){let t='<h2 id="error-summary-title" class="govuk-error-summary__title">There is a problem</h2>';t+='<div class="govuk-error-summary__body">',t+='<ul class="govuk-list govuk-error-summary__list">';for(const e of this.errors)t+="<li>",t+=`<a href="#${this.escapeHtml(e.fieldName)}">`,t+=this.escapeHtml(e.message),t+="</a>",t+="</li>";return t+="</ul>",t+="</div>",t}hideSummary(){this.$summary.classList.add("moj-hidden"),this.$summary.removeAttribute("aria-labelledby")}onSubmit(t){this.removeInlineErrors(),this.hideSummary(),this.resetTitle(),this.validate()||(t.preventDefault(),this.updateTitle(),this.showSummary(),this.showInlineErrors())}showInlineErrors(){for(const t of this.errors)this.showInlineError(t)}showInlineError(t){const e=document.createElement("span");e.id=`${t.fieldName}-error`,e.classList.add("govuk-error-message"),e.innerHTML=this.escapeHtml(t.message);const s=document.querySelector(`#${t.fieldName}`),i=s.closest(".govuk-fieldset"),n=(i||s).closest(".govuk-form-group"),o=n.querySelector("label"),r=n.querySelector("legend");n.classList.add("govuk-form-group--error"),i&&r?(r.after(e),n.setAttribute("aria-invalid","true"),V(i,"aria-describedby",e.id)):o&&s&&(o.after(e),s.setAttribute("aria-invalid","true"),V(s,"aria-describedby",e.id))}removeInlineErrors(){for(const t of this.errors)this.removeInlineError(t)}removeInlineError(t){const e=document.querySelector(`#${t.fieldName}-error`),s=document.querySelector(`#${t.fieldName}`),i=s.closest(".govuk-fieldset"),n=(i||s).closest(".govuk-form-group"),o=n.querySelector("label"),r=n.querySelector("legend");e.remove(),n.classList.remove("govuk-form-group--error"),i&&r?(n.removeAttribute("aria-invalid"),K(i,"aria-describedby",e.id)):o&&s&&(s.removeAttribute("aria-invalid"),K(s,"aria-describedby",e.id))}addValidator(t,e){this.validators.push({fieldName:t,rules:e,field:this.$root.elements.namedItem(t)})}validate(){this.errors=[];let t,e,s=null,i=!0;for(t=0;t<this.validators.length;t++)for(s=this.validators[t],e=0;e<s.rules.length;e++){if(i=s.rules[e].method(s.field,s.rules[e].params),"boolean"==typeof i&&!i){this.errors.push({fieldName:s.fieldName,message:s.rules[e].message});break}if("string"==typeof i){this.errors.push({fieldName:i,message:s.rules[e].message});break}}return 0===this.errors.length}}Q.entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},Q.moduleName="moj-form-validator",Q.defaults=Object.freeze({summary:{selector:".govuk-error-summary"}}),Q.schema=Object.freeze({properties:{summary:{type:"object"}}});class X extends f{constructor(t,e={}){var s;if(super(t,e),!X.isSupported())return this;const i=null!=(s=this.config.feedbackContainer.element)?s:this.$root.querySelector(this.config.feedbackContainer.selector);if(!(i&&i instanceof HTMLElement))return this;this.$feedbackContainer=i,this.setupFileInput(),this.setupDropzone(),this.setupLabel(),this.setupStatusBox(),this.$root.addEventListener("click",this.onFileDeleteClick.bind(this)),this.$root.classList.add("moj-multi-file-upload--enhanced")}setupDropzone(){this.$dropzone=document.createElement("div"),this.$dropzone.classList.add("moj-multi-file-upload__dropzone"),this.$dropzone.addEventListener("dragover",this.onDragOver.bind(this)),this.$dropzone.addEventListener("dragleave",this.onDragLeave.bind(this)),this.$dropzone.addEventListener("drop",this.onDrop.bind(this)),this.$fileInput.replaceWith(this.$dropzone),this.$dropzone.appendChild(this.$fileInput)}setupLabel(){const t=document.createElement("label");t.setAttribute("for",this.$fileInput.id),t.classList.add("govuk-button","govuk-button--secondary"),t.textContent=this.config.dropzoneButtonText;const e=document.createElement("p");e.classList.add("govuk-body"),e.textContent=this.config.dropzoneHintText,this.$label=t,this.$dropzone.append(e),this.$dropzone.append(t)}setupFileInput(){this.$fileInput=this.$root.querySelector(".moj-multi-file-upload__input"),this.$fileInput.addEventListener("change",this.onFileChange.bind(this)),this.$fileInput.addEventListener("focus",this.onFileFocus.bind(this)),this.$fileInput.addEventListener("blur",this.onFileBlur.bind(this))}setupStatusBox(){this.$status=document.createElement("div"),this.$status.classList.add("govuk-visually-hidden"),this.$status.setAttribute("aria-live","polite"),this.$status.setAttribute("role","status"),this.$dropzone.append(this.$status)}onDragOver(t){t.preventDefault(),this.$dropzone.classList.add("moj-multi-file-upload--dragover")}onDragLeave(){this.$dropzone.classList.remove("moj-multi-file-upload--dragover")}onDrop(t){t.preventDefault(),this.$dropzone.classList.remove("moj-multi-file-upload--dragover"),this.$feedbackContainer.classList.remove("moj-hidden"),this.$status.textContent=this.config.uploadStatusText,this.uploadFiles(t.dataTransfer.files)}uploadFiles(t){for(const e of Array.from(t))this.uploadFile(e)}onFileChange(){this.$feedbackContainer.classList.remove("moj-hidden"),this.$status.textContent=this.config.uploadStatusText,this.uploadFiles(this.$fileInput.files);const t=this.$fileInput.cloneNode(!0);t&&t instanceof HTMLInputElement&&(t.value="",this.$fileInput.replaceWith(t),this.setupFileInput(),this.$fileInput.focus())}onFileFocus(){this.$label.classList.add("moj-multi-file-upload--focused")}onFileBlur(){this.$label.classList.remove("moj-multi-file-upload--focused")}getSuccessHtml(t){return`<span class="moj-multi-file-upload__success"> <svg class="moj-banner__icon" fill="currentColor" role="presentation" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" height="25" width="25"><path d="M25,6.2L8.7,23.2L0,14.1l4-4.2l4.7,4.9L21,2L25,6.2z"/></svg>${t.messageHtml}</span>`}getErrorHtml(t){return`<span class="moj-multi-file-upload__error"> <svg class="moj-banner__icon" fill="currentColor" role="presentation" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" height="25" width="25"><path d="M13.6,15.4h-2.3v-4.5h2.3V15.4z M13.6,19.8h-2.3v-2.2h2.3V19.8z M0,23.2h25L12.5,2L0,23.2z"/></svg>${t.message}</span>`}getFileRow(t){const e=document.createElement("div");return e.classList.add("govuk-summary-list__row","moj-multi-file-upload__row"),e.innerHTML=`\n    <div class="govuk-summary-list__value moj-multi-file-upload__message">\n      <span class="moj-multi-file-upload__filename">${t.name}</span>\n      <span class="moj-multi-file-upload__progress">0%</span>\n    </div>\n    <div class="govuk-summary-list__actions moj-multi-file-upload__actions"></div>\n  `,e}getDeleteButton(t){const e=document.createElement("button");return e.setAttribute("type","button"),e.setAttribute("name","delete"),e.setAttribute("value",t.filename),e.classList.add("moj-multi-file-upload__delete","govuk-button","govuk-button--secondary","govuk-!-margin-bottom-0"),e.innerHTML=`Delete <span class="govuk-visually-hidden">${t.originalname}</span>`,e}uploadFile(t){this.config.hooks.entryHook(this,t);const e=this.getFileRow(t),s=e.querySelector(".moj-multi-file-upload__message"),i=e.querySelector(".moj-multi-file-upload__actions"),n=e.querySelector(".moj-multi-file-upload__progress"),o=new FormData;o.append("documents",t),this.$feedbackContainer.querySelector(".moj-multi-file-upload__list").append(e);const r=new XMLHttpRequest,a=()=>{const e=new Error(r.response&&"error"in r.response?r.response.error.message:r.statusText||"Upload failed");s.innerHTML=this.getErrorHtml(e),this.$status.textContent=e.message,this.config.hooks.errorHook(this,t,r,r.responseText,e)};r.addEventListener("load",(()=>{if(r.status<200||r.status>=300||!("success"in r.response))return a();s.innerHTML=this.getSuccessHtml(r.response.success),this.$status.textContent=r.response.success.messageText,i.append(this.getDeleteButton(r.response.file)),this.config.hooks.exitHook(this,t,r,r.responseText)})),r.addEventListener("error",a),r.upload.addEventListener("progress",(t=>{if(!t.lengthComputable)return;const e=Math.round(t.loaded/t.total*100);n.textContent=` ${e}%`})),r.open("POST",this.config.uploadUrl),r.responseType="json",r.send(o)}onFileDeleteClick(t){const e=t.target;if(!(e&&e instanceof HTMLButtonElement&&e.classList.contains("moj-multi-file-upload__delete")))return;t.preventDefault();const s=new XMLHttpRequest;s.addEventListener("load",(()=>{if(s.status<200||s.status>=300)return;const t=Array.from(this.$feedbackContainer.querySelectorAll(".moj-multi-file-upload__row"));1===t.length&&this.$feedbackContainer.classList.add("moj-hidden");const i=t.find((t=>t.contains(e)));i&&i.remove(),this.config.hooks.deleteHook(this,void 0,s,s.responseText)})),s.open("POST",this.config.deleteUrl),s.setRequestHeader("Content-Type","application/json"),s.responseType="json",s.send(JSON.stringify({[e.name]:e.value}))}static isSupported(){return this.isDragAndDropSupported()&&this.isFormDataSupported()&&this.isFileApiSupported()}static isDragAndDropSupported(){return void 0!==document.createElement("div").ondrop}static isFormDataSupported(){return"function"==typeof FormData}static isFileApiSupported(){const t=document.createElement("input");return t.type="file",void 0!==t.files}}X.moduleName="moj-multi-file-upload",X.defaults=Object.freeze({uploadStatusText:"Uploading files, please wait",dropzoneHintText:"Drag and drop files here or",dropzoneButtonText:"Choose files",feedbackContainer:{selector:".moj-multi-file__uploaded-files"},hooks:{entryHook:()=>{},exitHook:()=>{},errorHook:()=>{},deleteHook:()=>{}}}),X.schema=Object.freeze({properties:{uploadUrl:{type:"string"},deleteUrl:{type:"string"},uploadStatusText:{type:"string"},dropzoneHintText:{type:"string"},dropzoneButtonText:{type:"string"},feedbackContainer:{type:"object"},hooks:{type:"object"}}});class tt extends f{constructor(t,e={}){var s;super(t,e);const i=this.$root.querySelector(`#${this.config.idPrefix}select-all`),n=null!=(s=this.config.checkboxes.items)?s:this.$root.querySelectorAll(this.config.checkboxes.selector);if(!(i&&i instanceof HTMLElement&&n.length))return this;this.setupToggle(this.config.idPrefix),this.$toggleButton=this.$toggle.querySelector("input"),this.$toggleButton.addEventListener("click",this.onButtonClick.bind(this)),this.$container=i,this.$container.append(this.$toggle),this.$checkboxes=Array.from(n),this.$checkboxes.forEach((t=>t.addEventListener("click",this.onCheckboxClick.bind(this)))),this.checked=e.checked||!1}setupToggle(t=""){const e=`${t}checkboxes-all`,s=document.createElement("div"),i=document.createElement("label"),n=document.createElement("input"),o=document.createElement("span");s.classList.add("govuk-checkboxes__item","govuk-checkboxes--small","moj-multi-select__checkbox"),n.id=e,n.type="checkbox",n.classList.add("govuk-checkboxes__input"),i.setAttribute("for",e),i.classList.add("govuk-label","govuk-checkboxes__label","moj-multi-select__toggle-label"),o.classList.add("govuk-visually-hidden"),o.textContent="Select all",i.append(o),s.append(n,i),this.$toggle=s}onButtonClick(){this.checked?(this.uncheckAll(),this.$toggleButton.checked=!1):(this.checkAll(),this.$toggleButton.checked=!0)}checkAll(){this.$checkboxes.forEach((t=>{t.checked=!0})),this.checked=!0}uncheckAll(){this.$checkboxes.forEach((t=>{t.checked=!1})),this.checked=!1}onCheckboxClick(t){t.target instanceof HTMLInputElement&&(t.target.checked?this.$checkboxes.filter((t=>t.checked)).length===this.$checkboxes.length&&(this.$toggleButton.checked=!0,this.checked=!0):(this.$toggleButton.checked=!1,this.checked=!1))}}tt.moduleName="moj-multi-select",tt.defaults=Object.freeze({idPrefix:"",checkboxes:{selector:"tbody input.govuk-checkboxes__input"}}),tt.schema=Object.freeze({properties:{idPrefix:{type:"string"},checked:{type:"boolean"},checkboxes:{type:"object"}}});class et extends g{constructor(t){super(t);const e=this.$root.querySelector(".govuk-input");if(!(e&&e instanceof HTMLInputElement))return this;this.$input=e,this.$input.setAttribute("spellcheck","false"),this.createButton()}createButton(){this.$group=document.createElement("div"),this.$button=document.createElement("button"),this.$button.setAttribute("type","button"),this.$root.classList.add("moj-password-reveal"),this.$group.classList.add("moj-password-reveal__wrapper"),this.$button.classList.add("govuk-button","govuk-button--secondary","moj-password-reveal__button"),this.$button.innerHTML='Show <span class="govuk-visually-hidden">password</span>',this.$button.addEventListener("click",this.onButtonClick.bind(this)),this.$group.append(this.$input,this.$button),this.$root.append(this.$group)}onButtonClick(){"password"===this.$input.type?(this.$input.type="text",this.$button.innerHTML='Hide <span class="govuk-visually-hidden">password</span>'):(this.$input.type="password",this.$button.innerHTML='Show <span class="govuk-visually-hidden">password</span>')}}et.moduleName="moj-password-reveal";class st extends f{constructor(t,e={}){if(super(t,e),!st.isSupported())return this;const s=this.$root.querySelector(".govuk-textarea");if(!(s&&s instanceof HTMLTextAreaElement))return this;this.$textarea=s,this.createToolbar(),this.hideDefault(),this.configureToolbar(),this.keys={left:37,right:39,up:38,down:40},this.$content.addEventListener("input",this.onEditorInput.bind(this)),this.$root.querySelector("label").addEventListener("click",this.onLabelClick.bind(this)),this.$toolbar.addEventListener("keydown",this.onToolbarKeydown.bind(this))}onToolbarKeydown(t){let e;switch(t.keyCode){case this.keys.right:case this.keys.down:if(e=this.$buttons.find((t=>"0"===t.getAttribute("tabindex"))),e){const t=e.nextElementSibling;t&&t instanceof HTMLButtonElement&&(t.focus(),e.setAttribute("tabindex","-1"),t.setAttribute("tabindex","0"))}break;case this.keys.left:case this.keys.up:if(e=this.$buttons.find((t=>"0"===t.getAttribute("tabindex"))),e){const t=e.previousElementSibling;t&&t instanceof HTMLButtonElement&&(t.focus(),e.setAttribute("tabindex","-1"),t.setAttribute("tabindex","0"))}}}getToolbarHtml(){let t="";return t+='<div class="moj-rich-text-editor__toolbar" role="toolbar">',this.config.toolbar.bold&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--bold" type="button" data-command="bold"><span class="govuk-visually-hidden">Bold</span></button>'),this.config.toolbar.italic&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--italic" type="button" data-command="italic"><span class="govuk-visually-hidden">Italic</span></button>'),this.config.toolbar.underline&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--underline" type="button" data-command="underline"><span class="govuk-visually-hidden">Underline</span></button>'),this.config.toolbar.bullets&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--unordered-list" type="button" data-command="insertUnorderedList"><span class="govuk-visually-hidden">Unordered list</span></button>'),this.config.toolbar.numbers&&(t+='<button class="moj-rich-text-editor__toolbar-button moj-rich-text-editor__toolbar-button--ordered-list" type="button" data-command="insertOrderedList"><span class="govuk-visually-hidden">Ordered list</span></button>'),t+="</div>",t}getEnhancedHtml(){return`${this.getToolbarHtml()}<div class="govuk-textarea moj-rich-text-editor__content" contenteditable="true" spellcheck="false"></div>`}hideDefault(){this.$textarea.classList.add("govuk-visually-hidden"),this.$textarea.setAttribute("aria-hidden","true"),this.$textarea.setAttribute("tabindex","-1")}createToolbar(){this.$toolbar=document.createElement("div"),this.$toolbar.className="moj-rich-text-editor",this.$toolbar.innerHTML=this.getEnhancedHtml(),this.$root.append(this.$toolbar),this.$content=this.$root.querySelector(".moj-rich-text-editor__content"),this.$content.innerHTML=this.$textarea.value}configureToolbar(){this.$buttons=Array.from(this.$root.querySelectorAll(".moj-rich-text-editor__toolbar-button")),this.$buttons.forEach(((t,e)=>{t.setAttribute("tabindex",e?"-1":"0"),t.addEventListener("click",this.onButtonClick.bind(this))}))}onButtonClick(t){t.currentTarget instanceof HTMLElement&&document.execCommand(t.currentTarget.getAttribute("data-command"),!1,void 0)}getContent(){return this.$content.innerHTML}onEditorInput(){this.updateTextarea()}updateTextarea(){document.execCommand("defaultParagraphSeparator",!1,"p"),this.$textarea.value=this.getContent()}onLabelClick(t){t.preventDefault(),this.$content.focus()}static isSupported(){return"contentEditable"in document.documentElement}}st.moduleName="moj-rich-text-editor",st.defaults=Object.freeze({toolbar:{bold:!1,italic:!1,underline:!1,bullets:!0,numbers:!0}}),st.schema=Object.freeze({properties:{toolbar:{type:"object"}}});class it extends f{constructor(t,e={}){var s,i;super(t,e);const n=null!=(s=this.config.searchContainer.element)?s:this.$root.querySelector(this.config.searchContainer.selector),o=null!=(i=this.config.toggleButtonContainer.element)?i:this.$root.querySelector(this.config.toggleButtonContainer.selector);if(!(n&&o&&n instanceof HTMLElement&&o instanceof HTMLElement))return this;this.$searchContainer=n,this.$toggleButtonContainer=o,this.$toggleButton=document.createElement("button"),this.$toggleButton.setAttribute("class","moj-search-toggle__button"),this.$toggleButton.setAttribute("type","button"),this.$toggleButton.setAttribute("aria-haspopup","true"),this.$toggleButton.setAttribute("aria-expanded","false"),this.$toggleButton.innerHTML=`${this.config.toggleButton.text} <svg viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="moj-search-toggle__button__icon"><path d="M7.433,12.5790048 C6.06762625,12.5808611 4.75763941,12.0392925 3.79217348,11.0738265 C2.82670755,10.1083606 2.28513891,8.79837375 2.28699522,7.433 C2.28513891,6.06762625 2.82670755,4.75763941 3.79217348,3.79217348 C4.75763941,2.82670755 6.06762625,2.28513891 7.433,2.28699522 C8.79837375,2.28513891 10.1083606,2.82670755 11.0738265,3.79217348 C12.0392925,4.75763941 12.5808611,6.06762625 12.5790048,7.433 C12.5808611,8.79837375 12.0392925,10.1083606 11.0738265,11.0738265 C10.1083606,12.0392925 8.79837375,12.5808611 7.433,12.5790048 L7.433,12.5790048 Z M14.293,12.579 L13.391,12.579 L13.071,12.269 C14.2300759,10.9245158 14.8671539,9.20813198 14.866,7.433 C14.866,3.32786745 11.5381325,-1.65045755e-15 7.433,-1.65045755e-15 C3.32786745,-1.65045755e-15 -1.65045755e-15,3.32786745 -1.65045755e-15,7.433 C-1.65045755e-15,11.5381325 3.32786745,14.866 7.433,14.866 C9.208604,14.8671159 10.9253982,14.2296624 12.27,13.07 L12.579,13.39 L12.579,14.294 L18.296,20 L20,18.296 L14.294,12.579 L14.293,12.579 Z"></path></svg>`,this.$toggleButton.addEventListener("click",this.onToggleButtonClick.bind(this)),this.$toggleButtonContainer.append(this.$toggleButton),document.addEventListener("click",this.onDocumentClick.bind(this)),document.addEventListener("focusin",this.onDocumentClick.bind(this))}showMenu(){this.$toggleButton.setAttribute("aria-expanded","true"),this.$searchContainer.classList.remove("moj-js-hidden"),this.$searchContainer.querySelector("input").focus()}hideMenu(){this.$searchContainer.classList.add("moj-js-hidden"),this.$toggleButton.setAttribute("aria-expanded","false")}onToggleButtonClick(){"false"===this.$toggleButton.getAttribute("aria-expanded")?this.showMenu():this.hideMenu()}onDocumentClick(t){t.target instanceof Node&&!this.$toggleButtonContainer.contains(t.target)&&!this.$searchContainer.contains(t.target)&&this.hideMenu()}}it.moduleName="moj-search-toggle",it.defaults=Object.freeze({searchContainer:{selector:".moj-search"},toggleButton:{text:"Search"},toggleButtonContainer:{selector:".moj-search-toggle__toggle"}}),it.schema=Object.freeze({properties:{searchContainer:{type:"object"},toggleButton:{type:"object"},toggleButtonContainer:{type:"object"}}});class nt extends f{constructor(t,e={}){super(t,e);const s=null==t?void 0:t.querySelector("thead"),i=null==t?void 0:t.querySelector("tbody");if(!s||!i)return this;this.$head=s,this.$body=i,this.$caption=this.$root.querySelector("caption"),this.$upArrow='<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6.5625 15.5L11 6.63125L15.4375 15.5H6.5625Z" fill="currentColor"/>\n</svg>',this.$downArrow='<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M15.4375 7L11 15.8687L6.5625 7L15.4375 7Z" fill="currentColor"/>\n</svg>',this.$upDownArrow='<svg width="22" height="22" focusable="false" aria-hidden="true" role="img" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.1875 9.5L10.9609 3.95703L13.7344 9.5H8.1875Z" fill="currentColor"/>\n<path d="M13.7344 12.0781L10.9609 17.6211L8.1875 12.0781H13.7344Z" fill="currentColor"/>\n</svg>',this.$headings=this.$head?Array.from(this.$head.querySelectorAll("th")):[],this.createHeadingButtons(),this.updateCaption(),this.updateDirectionIndicators(),this.createStatusBox(),this.initialiseSortedColumn(),this.$head.addEventListener("click",this.onSortButtonClick.bind(this))}createHeadingButtons(){for(const t of this.$headings)t.hasAttribute("aria-sort")&&this.createHeadingButton(t)}createHeadingButton(t){const e=this.$headings.indexOf(t),s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("data-index",`${e}`),s.textContent=t.textContent,t.textContent="",t.appendChild(s)}createStatusBox(){this.$status=document.createElement("div"),this.$status.setAttribute("aria-atomic","true"),this.$status.setAttribute("aria-live","polite"),this.$status.setAttribute("class","govuk-visually-hidden"),this.$status.setAttribute("role","status"),this.$root.insertAdjacentElement("afterend",this.$status)}initialiseSortedColumn(){var t;const e=this.getTableRowsArray(),s=this.$root.querySelector('th[aria-sort="ascending"], th[aria-sort="descending"]'),i=null==s?void 0:s.querySelector("button"),n=null==s?void 0:s.getAttribute("aria-sort"),o=Number.parseInt(null!=(t=null==i?void 0:i.getAttribute("data-index"))?t:"0",10);if(!s||!i||"ascending"!==n&&"descending"!==n)return;const r=this.sort(e,o,n);this.addRows(r)}onSortButtonClick(t){var e;const s=t.target.closest("button");if(!(s&&s instanceof HTMLButtonElement&&s.parentElement))return;const i=s.parentElement.getAttribute("aria-sort"),n=Number.parseInt(null!=(e=null==s?void 0:s.getAttribute("data-index"))?e:"0",10),o="none"===i||"descending"===i?"ascending":"descending",r=this.getTableRowsArray(),a=this.sort(r,n,o);this.addRows(a),this.removeButtonStates(),this.updateButtonState(s,o),this.updateDirectionIndicators()}updateCaption(){if(!this.$caption)return;let t=this.$caption.querySelector(".govuk-visually-hidden");t||(t=document.createElement("span"),t.classList.add("govuk-visually-hidden"),t.textContent="(column headers with buttons are sortable).",this.$caption.appendChild(t))}updateButtonState(t,e){if("ascending"!==e&&"descending"!==e)return;t.parentElement.setAttribute("aria-sort",e);let s=this.config.statusMessage;s=s.replace(/%heading%/,t.textContent),s=s.replace(/%direction%/,this.config[`${e}Text`]),this.$status.textContent=s}updateDirectionIndicators(){for(const e of this.$headings){const s=e.querySelector("button");if(e.hasAttribute("aria-sort")&&s){var t;const i=e.getAttribute("aria-sort");switch(null==(t=s.querySelector("svg"))||t.remove(),i){case"ascending":s.insertAdjacentHTML("beforeend",this.$upArrow);break;case"descending":s.insertAdjacentHTML("beforeend",this.$downArrow);break;default:s.insertAdjacentHTML("beforeend",this.$upDownArrow)}}}}removeButtonStates(){for(const t of this.$headings)t.setAttribute("aria-sort","none")}addRows(t){for(const e of t)this.$body.append(e)}getTableRowsArray(){return Array.from(this.$body.querySelectorAll("tr"))}sort(t,e,s){return t.sort(((t,i)=>{const n=t.querySelectorAll("td, th")[e],o=i.querySelectorAll("td, th")[e];if(!(n&&o&&n instanceof HTMLElement&&o instanceof HTMLElement))return 0;const r="ascending"===s?this.getCellValue(n):this.getCellValue(o),a="ascending"===s?this.getCellValue(o):this.getCellValue(n);return"number"!=typeof r||"number"!=typeof a?r.toString().localeCompare(a.toString()):r-a}))}getCellValue(t){const e=t.getAttribute("data-sort-value")||t.innerHTML,s=Number(e);return Number.isFinite(s)?s:e}}function ot(t){for(const e of[R,Y,U,W,tt,et,G,st,it,nt])N(e,void 0,t)}nt.moduleName="moj-sortable-table",nt.defaults=Object.freeze({statusMessage:"Sort by %heading% (%direction%)",ascendingText:"ascending",descendingText:"descending"}),nt.schema=Object.freeze({properties:{statusMessage:{type:"string"},ascendingText:{type:"string"},descendingText:{type:"string"}}}),window.GOVUKFrontend=e,window.MOJFrontend=s,document.addEventListener("DOMContentLoaded",(function(){F(),ot()}))})();